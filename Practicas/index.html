
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="..">
      
      
        <link rel="next" href="../comandos/">
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>Practicas - Plantilla para Documentaci√≥n</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.5.2/css/all.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#practica-1" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Plantilla para Documentaci√≥n" class="md-header__button md-logo" aria-label="Plantilla para Documentaci√≥n" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Plantilla para Documentaci√≥n
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Practicas
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="indigo"  aria-hidden="true"  type="radio" name="__palette" id="__palette_0">
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Plantilla para Documentaci√≥n" class="md-nav__button md-logo" aria-label="Plantilla para Documentaci√≥n" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Plantilla para Documentaci√≥n
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pagina Web Bitacora
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    Practicas
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    Practicas
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#practica-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pr√°ctica 1
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practica-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pr√°ctica 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pr√°ctica 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#esp32-solo" class="md-nav__link">
    <span class="md-ellipsis">
      
        ESP32 solo:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esp32-con-boton" class="md-nav__link">
    <span class="md-ellipsis">
      
        ESP32 con bot√≥n:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esp32-bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      
        ESP32 Bluetooth:
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practica-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pr√°ctica 3
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pr√°ctica 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aceleracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aceleraci√≥n:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio-de-direccion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cambio de direcci√≥n:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proyecto-final-carro-robot-de-futbol-controlado-por-ps4-esp32" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proyecto Final: Carro Robot de F√∫tbol Controlado por PS4 (ESP32)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetivo-del-proyecto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objetivo del Proyecto
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquitectura-y-tecnologias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Arquitectura y Tecnolog√≠as
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arquitectura y Tecnolog√≠as">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#marco-teorico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Marco Te√≥rico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#materiales-clave" class="md-nav__link">
    <span class="md-ellipsis">
      
        Materiales Clave
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-general" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procedimiento General
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codigo-de-programacion-arduino-para-esp32" class="md-nav__link">
    <span class="md-ellipsis">
      
        C√≥digo de Programaci√≥n (Arduino para ESP32)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C√≥digo de Programaci√≥n (Arduino para ESP32)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proyecto-final-plataforma-estabilizadora" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proyecto Final: plataforma estabilizadora
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-de-esp-para-la-plataforma-con-servo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Codigo de Esp para la plataforma con servo
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include" class="md-nav__link">
    <span class="md-ellipsis">
      
        include
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        include
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../comandos/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Encabezados
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../ejemplo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üìö Ejemplo de Documentaci√≥n del Proyecto
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../gitcmds/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    üöÄ Comandos b√°sicos de Git (primeros pasos)
  

    
  </span>
  
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#practica-1" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pr√°ctica 1
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practica-2" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pr√°ctica 2
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pr√°ctica 2">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#esp32-solo" class="md-nav__link">
    <span class="md-ellipsis">
      
        ESP32 solo:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esp32-con-boton" class="md-nav__link">
    <span class="md-ellipsis">
      
        ESP32 con bot√≥n:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#esp32-bluetooth" class="md-nav__link">
    <span class="md-ellipsis">
      
        ESP32 Bluetooth:
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#practica-3" class="md-nav__link">
    <span class="md-ellipsis">
      
        Pr√°ctica 3
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Pr√°ctica 3">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aceleracion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aceleraci√≥n:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#cambio-de-direccion" class="md-nav__link">
    <span class="md-ellipsis">
      
        Cambio de direcci√≥n:
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#proyecto-final-carro-robot-de-futbol-controlado-por-ps4-esp32" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proyecto Final: Carro Robot de F√∫tbol Controlado por PS4 (ESP32)
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#objetivo-del-proyecto" class="md-nav__link">
    <span class="md-ellipsis">
      
        Objetivo del Proyecto
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#arquitectura-y-tecnologias" class="md-nav__link">
    <span class="md-ellipsis">
      
        Arquitectura y Tecnolog√≠as
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Arquitectura y Tecnolog√≠as">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#marco-teorico" class="md-nav__link">
    <span class="md-ellipsis">
      
        Marco Te√≥rico
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#materiales-clave" class="md-nav__link">
    <span class="md-ellipsis">
      
        Materiales Clave
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#procedimiento-general" class="md-nav__link">
    <span class="md-ellipsis">
      
        Procedimiento General
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#codigo-de-programacion-arduino-para-esp32" class="md-nav__link">
    <span class="md-ellipsis">
      
        C√≥digo de Programaci√≥n (Arduino para ESP32)
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="C√≥digo de Programaci√≥n (Arduino para ESP32)">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#proyecto-final-plataforma-estabilizadora" class="md-nav__link">
    <span class="md-ellipsis">
      
        Proyecto Final: plataforma estabilizadora
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#codigo-de-esp-para-la-plataforma-con-servo" class="md-nav__link">
    <span class="md-ellipsis">
      
        Codigo de Esp para la plataforma con servo
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include" class="md-nav__link">
    <span class="md-ellipsis">
      
        include
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#include_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        include
      
    </span>
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  



<h2 id="practica-1">Pr√°ctica 1</h2>
<p>Esta practiica podemos observar el uso de un circuito integrado 555 de manera astable en la cual, hace parpadear un diodo led dependiendo del valor de las resistencias.</p>
<p><a href="https://github.com/user-attachments/assets/a55c972d-851a-4645-9918-f97dc848011a" title="Practica 1">Practica 1</a></p>
<h2 id="practica-2">Pr√°ctica 2</h2>
<p>Esta practica consistio en usar un ESP32 para controlar de distantas maneras un led sea desde solo el ESP32, como con este y un bot√≥n y por medio de bluetooth.</p>
<h3 id="esp32-solo">ESP32 solo:<br></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-0-1"><a id="__codelineno-0-1" name="__codelineno-0-1" href="#__codelineno-0-1"></a>const int led=33
</span><span id="__span-0-2"><a id="__codelineno-0-2" name="__codelineno-0-2" href="#__codelineno-0-2"></a>
</span><span id="__span-0-3"><a id="__codelineno-0-3" name="__codelineno-0-3" href="#__codelineno-0-3"></a>  void setup () {
</span><span id="__span-0-4"><a id="__codelineno-0-4" name="__codelineno-0-4" href="#__codelineno-0-4"></a>  Serial. begin (115200);
</span><span id="__span-0-5"><a id="__codelineno-0-5" name="__codelineno-0-5" href="#__codelineno-0-5"></a>  pinMode (Led, OUTPUT) ;
</span><span id="__span-0-6"><a id="__codelineno-0-6" name="__codelineno-0-6" href="#__codelineno-0-6"></a> }
</span><span id="__span-0-7"><a id="__codelineno-0-7" name="__codelineno-0-7" href="#__codelineno-0-7"></a>
</span><span id="__span-0-8"><a id="__codelineno-0-8" name="__codelineno-0-8" href="#__codelineno-0-8"></a>
</span><span id="__span-0-9"><a id="__codelineno-0-9" name="__codelineno-0-9" href="#__codelineno-0-9"></a> void lo0p() {
</span><span id="__span-0-10"><a id="__codelineno-0-10" name="__codelineno-0-10" href="#__codelineno-0-10"></a> digitalWrite(led,1);
</span><span id="__span-0-11"><a id="__codelineno-0-11" name="__codelineno-0-11" href="#__codelineno-0-11"></a> delay (1000);
</span><span id="__span-0-12"><a id="__codelineno-0-12" name="__codelineno-0-12" href="#__codelineno-0-12"></a> digitalwrite(led,0);
</span><span id="__span-0-13"><a id="__codelineno-0-13" name="__codelineno-0-13" href="#__codelineno-0-13"></a> delay¬†(1000);
</span><span id="__span-0-14"><a id="__codelineno-0-14" name="__codelineno-0-14" href="#__codelineno-0-14"></a> }
</span></code></pre></div>
<p><a href="https://github.com/user-attachments/assets/6e66b9b6-49fc-4279-bbd0-478fd867dd4a">ESP32 solo</a></p>
<h3 id="esp32-con-boton">ESP32 con bot√≥n:<br></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-1-1"><a id="__codelineno-1-1" name="__codelineno-1-1" href="#__codelineno-1-1"></a>const int led=33;
</span><span id="__span-1-2"><a id="__codelineno-1-2" name="__codelineno-1-2" href="#__codelineno-1-2"></a>const int btn=34;
</span><span id="__span-1-3"><a id="__codelineno-1-3" name="__codelineno-1-3" href="#__codelineno-1-3"></a>void setup() {
</span><span id="__span-1-4"><a id="__codelineno-1-4" name="__codelineno-1-4" href="#__codelineno-1-4"></a>  Serial.begin(115200);
</span><span id="__span-1-5"><a id="__codelineno-1-5" name="__codelineno-1-5" href="#__codelineno-1-5"></a>  pinMode(led,OUTPUT);
</span><span id="__span-1-6"><a id="__codelineno-1-6" name="__codelineno-1-6" href="#__codelineno-1-6"></a>  pinMode(btn,INPUT);
</span><span id="__span-1-7"><a id="__codelineno-1-7" name="__codelineno-1-7" href="#__codelineno-1-7"></a>}
</span><span id="__span-1-8"><a id="__codelineno-1-8" name="__codelineno-1-8" href="#__codelineno-1-8"></a>
</span><span id="__span-1-9"><a id="__codelineno-1-9" name="__codelineno-1-9" href="#__codelineno-1-9"></a>void loop() {
</span><span id="__span-1-10"><a id="__codelineno-1-10" name="__codelineno-1-10" href="#__codelineno-1-10"></a>  int estado = digitalRead(btn);
</span><span id="__span-1-11"><a id="__codelineno-1-11" name="__codelineno-1-11" href="#__codelineno-1-11"></a>  if(estado == 1 ){
</span><span id="__span-1-12"><a id="__codelineno-1-12" name="__codelineno-1-12" href="#__codelineno-1-12"></a>    digitalWrite(led,1);
</span><span id="__span-1-13"><a id="__codelineno-1-13" name="__codelineno-1-13" href="#__codelineno-1-13"></a>  }
</span><span id="__span-1-14"><a id="__codelineno-1-14" name="__codelineno-1-14" href="#__codelineno-1-14"></a>  else{
</span><span id="__span-1-15"><a id="__codelineno-1-15" name="__codelineno-1-15" href="#__codelineno-1-15"></a>    digitalWrite(led,0);
</span><span id="__span-1-16"><a id="__codelineno-1-16" name="__codelineno-1-16" href="#__codelineno-1-16"></a>  }
</span><span id="__span-1-17"><a id="__codelineno-1-17" name="__codelineno-1-17" href="#__codelineno-1-17"></a>}
</span></code></pre></div>
<p><a href="https://github.com/user-attachments/assets/2fb48297-2228-4e13-8b8e-80b5b23b4017">ESP32 con bot√≥n</a></p>
<h3 id="esp32-bluetooth">ESP32 Bluetooth:<br></h3>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-2-1"><a id="__codelineno-2-1" name="__codelineno-2-1" href="#__codelineno-2-1"></a>#include &quot;BluetoothSerial.h&quot;
</span><span id="__span-2-2"><a id="__codelineno-2-2" name="__codelineno-2-2" href="#__codelineno-2-2"></a>BluetoothSerial SerialBT;
</span><span id="__span-2-3"><a id="__codelineno-2-3" name="__codelineno-2-3" href="#__codelineno-2-3"></a>const int led=33;
</span><span id="__span-2-4"><a id="__codelineno-2-4" name="__codelineno-2-4" href="#__codelineno-2-4"></a>void setup() {
</span><span id="__span-2-5"><a id="__codelineno-2-5" name="__codelineno-2-5" href="#__codelineno-2-5"></a>  pinMode(led,OUTPUT);
</span><span id="__span-2-6"><a id="__codelineno-2-6" name="__codelineno-2-6" href="#__codelineno-2-6"></a>    Serial.begin(115200);
</span><span id="__span-2-7"><a id="__codelineno-2-7" name="__codelineno-2-7" href="#__codelineno-2-7"></a>    SerialBT.begin(&quot;AbrahamEsp32&quot;); // Nombre del dispositivo Bluetooth
</span><span id="__span-2-8"><a id="__codelineno-2-8" name="__codelineno-2-8" href="#__codelineno-2-8"></a>}
</span><span id="__span-2-9"><a id="__codelineno-2-9" name="__codelineno-2-9" href="#__codelineno-2-9"></a>
</span><span id="__span-2-10"><a id="__codelineno-2-10" name="__codelineno-2-10" href="#__codelineno-2-10"></a>void loop() {
</span><span id="__span-2-11"><a id="__codelineno-2-11" name="__codelineno-2-11" href="#__codelineno-2-11"></a>    if (SerialBT.available()) {
</span><span id="__span-2-12"><a id="__codelineno-2-12" name="__codelineno-2-12" href="#__codelineno-2-12"></a>        String mensaje = SerialBT.readString();
</span><span id="__span-2-13"><a id="__codelineno-2-13" name="__codelineno-2-13" href="#__codelineno-2-13"></a>        Serial.println(&quot;Recibido: &quot; + mensaje);
</span><span id="__span-2-14"><a id="__codelineno-2-14" name="__codelineno-2-14" href="#__codelineno-2-14"></a>        if(mensaje == &quot;on&quot; ){
</span><span id="__span-2-15"><a id="__codelineno-2-15" name="__codelineno-2-15" href="#__codelineno-2-15"></a>    digitalWrite(led,1);
</span><span id="__span-2-16"><a id="__codelineno-2-16" name="__codelineno-2-16" href="#__codelineno-2-16"></a>  }
</span><span id="__span-2-17"><a id="__codelineno-2-17" name="__codelineno-2-17" href="#__codelineno-2-17"></a>  else{
</span><span id="__span-2-18"><a id="__codelineno-2-18" name="__codelineno-2-18" href="#__codelineno-2-18"></a>    digitalWrite(led,0);
</span><span id="__span-2-19"><a id="__codelineno-2-19" name="__codelineno-2-19" href="#__codelineno-2-19"></a>    }}
</span><span id="__span-2-20"><a id="__codelineno-2-20" name="__codelineno-2-20" href="#__codelineno-2-20"></a>    delay(100);
</span><span id="__span-2-21"><a id="__codelineno-2-21" name="__codelineno-2-21" href="#__codelineno-2-21"></a>}
</span></code></pre></div>
<a href="https://github.com/user-attachments/assets/15d742b1-f1fd-4519-a911-5364dd9c4c94">ESP32 Bluetooth</a></p>
<h2 id="practica-3">Pr√°ctica 3</h2>
<p>En esta practica observaremos a base de un ESP32 combinado a un puente H, sumado de un motor el cambio de direcci√≥n y su acelereaci√≥n y desaceleraci√≥n.</p>
<h3 id="aceleracion">Aceleraci√≥n:<br></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-3-1"><a id="__codelineno-3-1" name="__codelineno-3-1" href="#__codelineno-3-1"></a>#define in1 25
</span><span id="__span-3-2"><a id="__codelineno-3-2" name="__codelineno-3-2" href="#__codelineno-3-2"></a>#define in2 26
</span><span id="__span-3-3"><a id="__codelineno-3-3" name="__codelineno-3-3" href="#__codelineno-3-3"></a>int var=20;
</span><span id="__span-3-4"><a id="__codelineno-3-4" name="__codelineno-3-4" href="#__codelineno-3-4"></a> &lt;br&gt;
</span><span id="__span-3-5"><a id="__codelineno-3-5" name="__codelineno-3-5" href="#__codelineno-3-5"></a>void setup() {
</span><span id="__span-3-6"><a id="__codelineno-3-6" name="__codelineno-3-6" href="#__codelineno-3-6"></a> &lt;br&gt;
</span><span id="__span-3-7"><a id="__codelineno-3-7" name="__codelineno-3-7" href="#__codelineno-3-7"></a>  pinMode(in1, OUTPUT);
</span><span id="__span-3-8"><a id="__codelineno-3-8" name="__codelineno-3-8" href="#__codelineno-3-8"></a>  pinMode(in2, OUTPUT);
</span><span id="__span-3-9"><a id="__codelineno-3-9" name="__codelineno-3-9" href="#__codelineno-3-9"></a>  ledcAttachChannel(3, 1000, 8 , 0);
</span><span id="__span-3-10"><a id="__codelineno-3-10" name="__codelineno-3-10" href="#__codelineno-3-10"></a>  Serial.begin(115200);
</span><span id="__span-3-11"><a id="__codelineno-3-11" name="__codelineno-3-11" href="#__codelineno-3-11"></a>
</span><span id="__span-3-12"><a id="__codelineno-3-12" name="__codelineno-3-12" href="#__codelineno-3-12"></a>}
</span><span id="__span-3-13"><a id="__codelineno-3-13" name="__codelineno-3-13" href="#__codelineno-3-13"></a>
</span><span id="__span-3-14"><a id="__codelineno-3-14" name="__codelineno-3-14" href="#__codelineno-3-14"></a>void loop() {
</span><span id="__span-3-15"><a id="__codelineno-3-15" name="__codelineno-3-15" href="#__codelineno-3-15"></a>  Serial.println(var);
</span><span id="__span-3-16"><a id="__codelineno-3-16" name="__codelineno-3-16" href="#__codelineno-3-16"></a>  ledcWrite(18, var);
</span><span id="__span-3-17"><a id="__codelineno-3-17" name="__codelineno-3-17" href="#__codelineno-3-17"></a>  digitalWrite(in1,1);
</span><span id="__span-3-18"><a id="__codelineno-3-18" name="__codelineno-3-18" href="#__codelineno-3-18"></a>  digitalWrite(in2,0);
</span><span id="__span-3-19"><a id="__codelineno-3-19" name="__codelineno-3-19" href="#__codelineno-3-19"></a>  delay(1000);
</span><span id="__span-3-20"><a id="__codelineno-3-20" name="__codelineno-3-20" href="#__codelineno-3-20"></a>  var=var+20;
</span><span id="__span-3-21"><a id="__codelineno-3-21" name="__codelineno-3-21" href="#__codelineno-3-21"></a>  if(var&gt;255){
</span><span id="__span-3-22"><a id="__codelineno-3-22" name="__codelineno-3-22" href="#__codelineno-3-22"></a>     var=var-80;
</span><span id="__span-3-23"><a id="__codelineno-3-23" name="__codelineno-3-23" href="#__codelineno-3-23"></a>  }  
</span><span id="__span-3-24"><a id="__codelineno-3-24" name="__codelineno-3-24" href="#__codelineno-3-24"></a>  delay(1000);
</span><span id="__span-3-25"><a id="__codelineno-3-25" name="__codelineno-3-25" href="#__codelineno-3-25"></a>}
</span></code></pre></div>
<p><img alt="Diagrama del sistema" src="../recursos/imgs/FotoESP32motoraceleracion.jpg" /> </p>
<h3 id="cambio-de-direccion">Cambio de direcci√≥n:<br></h3>
<div class="language-text highlight"><pre><span></span><code><span id="__span-4-1"><a id="__codelineno-4-1" name="__codelineno-4-1" href="#__codelineno-4-1"></a>#define in1 25
</span><span id="__span-4-2"><a id="__codelineno-4-2" name="__codelineno-4-2" href="#__codelineno-4-2"></a>#define in2 26
</span><span id="__span-4-3"><a id="__codelineno-4-3" name="__codelineno-4-3" href="#__codelineno-4-3"></a>
</span><span id="__span-4-4"><a id="__codelineno-4-4" name="__codelineno-4-4" href="#__codelineno-4-4"></a>void setup() {
</span><span id="__span-4-5"><a id="__codelineno-4-5" name="__codelineno-4-5" href="#__codelineno-4-5"></a>  pinMode(in1, OUTPUT);
</span><span id="__span-4-6"><a id="__codelineno-4-6" name="__codelineno-4-6" href="#__codelineno-4-6"></a>  pinMode(in2, OUTPUT);
</span><span id="__span-4-7"><a id="__codelineno-4-7" name="__codelineno-4-7" href="#__codelineno-4-7"></a>}
</span><span id="__span-4-8"><a id="__codelineno-4-8" name="__codelineno-4-8" href="#__codelineno-4-8"></a>
</span><span id="__span-4-9"><a id="__codelineno-4-9" name="__codelineno-4-9" href="#__codelineno-4-9"></a>void loop() {
</span><span id="__span-4-10"><a id="__codelineno-4-10" name="__codelineno-4-10" href="#__codelineno-4-10"></a>
</span><span id="__span-4-11"><a id="__codelineno-4-11" name="__codelineno-4-11" href="#__codelineno-4-11"></a>    digitalWrite(in1, 1); 
</span><span id="__span-4-12"><a id="__codelineno-4-12" name="__codelineno-4-12" href="#__codelineno-4-12"></a>    digitalWrite(in2, 0); 
</span><span id="__span-4-13"><a id="__codelineno-4-13" name="__codelineno-4-13" href="#__codelineno-4-13"></a>    delay(3000);
</span><span id="__span-4-14"><a id="__codelineno-4-14" name="__codelineno-4-14" href="#__codelineno-4-14"></a>    digitalWrite(in1, 0); 
</span><span id="__span-4-15"><a id="__codelineno-4-15" name="__codelineno-4-15" href="#__codelineno-4-15"></a>    digitalWrite(in2, 0); 
</span><span id="__span-4-16"><a id="__codelineno-4-16" name="__codelineno-4-16" href="#__codelineno-4-16"></a>    delay(1000);
</span><span id="__span-4-17"><a id="__codelineno-4-17" name="__codelineno-4-17" href="#__codelineno-4-17"></a>    digitalWrite(in1, 0); 
</span><span id="__span-4-18"><a id="__codelineno-4-18" name="__codelineno-4-18" href="#__codelineno-4-18"></a>    digitalWrite(in2, 1); 
</span><span id="__span-4-19"><a id="__codelineno-4-19" name="__codelineno-4-19" href="#__codelineno-4-19"></a>    delay(1000);¬†
</span><span id="__span-4-20"><a id="__codelineno-4-20" name="__codelineno-4-20" href="#__codelineno-4-20"></a>¬†¬†}
</span></code></pre></div>
<p><a href="https://github.com/user-attachments/assets/4e1e3c5b-193a-47d9-be2c-e228a90f1efe">Cambio de direcci√≥n</a></p>
<h3 id="proyecto-final-carro-robot-de-futbol-controlado-por-ps4-esp32">Proyecto Final: Carro Robot de F√∫tbol Controlado por PS4 (ESP32)</h3>
<h2 id="objetivo-del-proyecto">Objetivo del Proyecto</h2>
<p>El proyecto consisti√≥ en el dise√±o y construcci√≥n de un <em>carro robot teledirigido</em> utilizando el microcontrolador <em>ESP32</em> y un <em>control PS4</em> (v√≠a Bluetooth). El objetivo principal era crear una plataforma m√≥vil con alta maniobrabilidad para participar y competir exitosamente en un torneo de f√∫tbol de robots, moviendo una pelota y marcando goles.</p>
<hr />
<h2 id="arquitectura-y-tecnologias">Arquitectura y Tecnolog√≠as</h2>
<p>La implementaci√≥n se centr√≥ en la integraci√≥n de tres √°reas principales:</p>
<h3 id="marco-teorico">Marco Te√≥rico</h3>
<ul>
<li><em>Microcontrolador:</em> Se seleccion√≥ el <em>ESP32</em> por su capacidad de doble n√∫cleo y, fundamentalmente, por su <em>conectividad Bluetooth</em> para recibir comandos en tiempo real desde el control de PlayStation.</li>
<li><em>Driver de Motor:</em> Se utiliz√≥ un <em>Puente H (L298N o similar)</em> para gestionar la alta corriente requerida por los motores DC, ya que el ESP32 no puede alimentarlos directamente.</li>
<li><em>Movimiento:</em> Se implement√≥ <em>Tracci√≥n Diferencial</em> mediante el env√≠o de se√±ales PWM (Modulaci√≥n por Ancho de Pulso) a cada motor, permitiendo movimientos precisos (avance, retroceso y giros).</li>
</ul>
<h3 id="materiales-clave">Materiales Clave</h3>
<table>
<thead>
<tr>
<th style="text-align: left;">Componente</th>
<th style="text-align: left;">Funci√≥n Principal</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align: left;"><em>ESP32 DevKit V1</em></td>
<td style="text-align: left;">Cerebro del sistema, gestor de Bluetooth.</td>
</tr>
<tr>
<td style="text-align: left;"><em>Puente H</em></td>
<td style="text-align: left;">Driver de potencia para los motores.</td>
</tr>
<tr>
<td style="text-align: left;"><em>Control PS4</em></td>
<td style="text-align: left;">Interfaz de usuario para comandos inal√°mbricos.</td>
</tr>
<tr>
<td style="text-align: left;">Pilas 3.7V / 2600 mAh</td>
<td style="text-align: left;">Fuente de alimentaci√≥n.</td>
</tr>
<tr>
<td style="text-align: left;">Motores DC</td>
<td style="text-align: left;">Actuadores de tracci√≥n.</td>
</tr>
<tr>
<td style="text-align: left;">MDF / Impresi√≥n 3D</td>
<td style="text-align: left;">Construcci√≥n del chasis, carcasas y pala.</td>
</tr>
</tbody>
</table>
<hr />
<h2 id="procedimiento-general">Procedimiento General</h2>
<p>El proyecto se ejecut√≥ mediante la colaboraci√≥n de equipos especializados:</p>
<ol>
<li><em>Electr√≥nica:</em> Dise√±o del diagrama del circuito, conexi√≥n del driver de motor, fusibles, bater√≠as y cableado general.</li>
<li><em>Programaci√≥n:</em> Desarrollo del firmware para la conexi√≥n Bluetooth y la l√≥gica de control de motores, traduciendo los comandos del joystick a se√±ales de movimiento.</li>
<li><em>Mec√°nica:</em> Dise√±o y ensamblaje del chasis de cuatro ruedas y la pala frontal para la interacci√≥n con la pelota.</li>
</ol>
<hr />
<h2 id="codigo-de-programacion-arduino-para-esp32">C√≥digo de Programaci√≥n (Arduino para ESP32)</h2>
<p>Este firmware gestiona la conexi√≥n con el control PS4 y utiliza la l√≥gica de tracci√≥n diferencial y ajuste de velocidad (con el gatillo R2) para el control del carro.</p>
<p><div class="language-text highlight"><pre><span></span><code><span id="__span-5-1"><a id="__codelineno-5-1" name="__codelineno-5-1" href="#__codelineno-5-1"></a>/**
</span><span id="__span-5-2"><a id="__codelineno-5-2" name="__codelineno-5-2" href="#__codelineno-5-2"></a> * @file Robot_Futbol_PS4_ESP32.ino
</span><span id="__span-5-3"><a id="__codelineno-5-3" name="__codelineno-5-3" href="#__codelineno-5-3"></a> * @brief C√≥digo para controlar un carro robot de f√∫tbol usando un ESP32 y un control PS4.
</span><span id="__span-5-4"><a id="__codelineno-5-4" name="__codelineno-5-4" href="#__codelineno-5-4"></a> * Incluye funciones para avance, retroceso, giros y tracci√≥n diferencial mediante Joysticks.
</span><span id="__span-5-5"><a id="__codelineno-5-5" name="__codelineno-5-5" href="#__codelineno-5-5"></a> */
</span><span id="__span-5-6"><a id="__codelineno-5-6" name="__codelineno-5-6" href="#__codelineno-5-6"></a>
</span><span id="__span-5-7"><a id="__codelineno-5-7" name="__codelineno-5-7" href="#__codelineno-5-7"></a>// Bibliotecas necesarias:
</span><span id="__span-5-8"><a id="__codelineno-5-8" name="__codelineno-5-8" href="#__codelineno-5-8"></a>#include &lt;Arduino.h&gt;
</span><span id="__span-5-9"><a id="__codelineno-5-9" name="__codelineno-5-9" href="#__codelineno-5-9"></a>#include &lt;PS4Controller.h&gt; 
</span><span id="__span-5-10"><a id="__codelineno-5-10" name="__codelineno-5-10" href="#__codelineno-5-10"></a>
</span><span id="__span-5-11"><a id="__codelineno-5-11" name="__codelineno-5-11" href="#__codelineno-5-11"></a>// --- Configuraci√≥n de Pines y Variables ---
</span><span id="__span-5-12"><a id="__codelineno-5-12" name="__codelineno-5-12" href="#__codelineno-5-12"></a>int enA = 25; int enB = 14; // Pines de Enable (PWM)
</span><span id="__span-5-13"><a id="__codelineno-5-13" name="__codelineno-5-13" href="#__codelineno-5-13"></a>int IN1 = 26; int IN2 = 27; int IN3 = 32; int IN4 = 33; // Pines de Direcci√≥n
</span><span id="__span-5-14"><a id="__codelineno-5-14" name="__codelineno-5-14" href="#__codelineno-5-14"></a>#define R 0 // Canal LEDC para Motor Derecho
</span><span id="__span-5-15"><a id="__codelineno-5-15" name="__codelineno-5-15" href="#__codelineno-5-15"></a>#define L 1 // Canal LEDC para Motor Izquierdo
</span><span id="__span-5-16"><a id="__codelineno-5-16" name="__codelineno-5-16" href="#__codelineno-5-16"></a>int Speed = 210; // Velocidad base inicial
</span><span id="__span-5-17"><a id="__codelineno-5-17" name="__codelineno-5-17" href="#__codelineno-5-17"></a>int threshold = 10; // Umbral de sensibilidad para Joysticks
</span><span id="__span-5-18"><a id="__codelineno-5-18" name="__codelineno-5-18" href="#__codelineno-5-18"></a>
</span><span id="__span-5-19"><a id="__codelineno-5-19" name="__codelineno-5-19" href="#__codelineno-5-19"></a>// --- Declaraci√≥n de Funciones de Movimiento ---
</span><span id="__span-5-20"><a id="__codelineno-5-20" name="__codelineno-5-20" href="#__codelineno-5-20"></a>void forward(); void backward(); void left(); void right(); void stop();
</span><span id="__span-5-21"><a id="__codelineno-5-21" name="__codelineno-5-21" href="#__codelineno-5-21"></a>void setMotor(int leftMotor, int rightMotor);
</span><span id="__span-5-22"><a id="__codelineno-5-22" name="__codelineno-5-22" href="#__codelineno-5-22"></a>
</span><span id="__span-5-23"><a id="__codelineno-5-23" name="__codelineno-5-23" href="#__codelineno-5-23"></a>// --- Setup (Configuraci√≥n Inicial) ---
</span><span id="__span-5-24"><a id="__codelineno-5-24" name="__codelineno-5-24" href="#__codelineno-5-24"></a>void setup() {
</span><span id="__span-5-25"><a id="__codelineno-5-25" name="__codelineno-5-25" href="#__codelineno-5-25"></a>  Serial.begin(115200);
</span><span id="__span-5-26"><a id="__codelineno-5-26" name="__codelineno-5-26" href="#__codelineno-5-26"></a>  // *IMPORTANTE*: Reemplace la MAC Address con la de su control PS4.
</span><span id="__span-5-27"><a id="__codelineno-5-27" name="__codelineno-5-27" href="#__codelineno-5-27"></a>  PS4.begin(&quot;98:3b:8f:fc:0c:82&quot;); 
</span><span id="__span-5-28"><a id="__codelineno-5-28" name="__codelineno-5-28" href="#__codelineno-5-28"></a>  Serial.println(&quot;Esperando control PS4...&quot;);
</span><span id="__span-5-29"><a id="__codelineno-5-29" name="__codelineno-5-29" href="#__codelineno-5-29"></a>  ledcAttachChannel(enA, 5000, 8, R);
</span><span id="__span-5-30"><a id="__codelineno-5-30" name="__codelineno-5-30" href="#__codelineno-5-30"></a>  ledcAttachChannel(enB, 5000, 8, L);
</span><span id="__span-5-31"><a id="__codelineno-5-31" name="__codelineno-5-31" href="#__codelineno-5-31"></a>  pinMode(IN1, OUTPUT); pinMode(IN2, OUTPUT);
</span><span id="__span-5-32"><a id="__codelineno-5-32" name="__codelineno-5-32" href="#__codelineno-5-32"></a>  pinMode(IN3, OUTPUT); pinMode(IN4, OUTPUT);
</span><span id="__span-5-33"><a id="__codelineno-5-33" name="__codelineno-5-33" href="#__codelineno-5-33"></a>  stop();
</span><span id="__span-5-34"><a id="__codelineno-5-34" name="__codelineno-5-34" href="#__codelineno-5-34"></a>}
</span><span id="__span-5-35"><a id="__codelineno-5-35" name="__codelineno-5-35" href="#__codelineno-5-35"></a>
</span><span id="__span-5-36"><a id="__codelineno-5-36" name="__codelineno-5-36" href="#__codelineno-5-36"></a>// --- Loop Principal (Ejecuci√≥n Continua) ---
</span><span id="__span-5-37"><a id="__codelineno-5-37" name="__codelineno-5-37" href="#__codelineno-5-37"></a>void loop() {
</span><span id="__span-5-38"><a id="__codelineno-5-38" name="__codelineno-5-38" href="#__codelineno-5-38"></a>  if (PS4.isConnected()) {
</span><span id="__span-5-39"><a id="__codelineno-5-39" name="__codelineno-5-39" href="#__codelineno-5-39"></a>    // 1. Ajuste de Velocidad con R2
</span><span id="__span-5-40"><a id="__codelineno-5-40" name="__codelineno-5-40" href="#__codelineno-5-40"></a>    Speed = map(PS4.R2Value(), 0, 255, 210, 255);
</span></code></pre></div>
<img src="../recursos/imgs/Fotocircuito.jpg" alt="Diagrama del sistema" width="420"></p>
<p><img src="../recursos/imgs/Fotococheporfuera.jpg" alt="Diagrama del sistema" width="420"></p>
<p><img src="../recursos/imgs/Fotocochepordentro.jpg" alt="Diagrama del sistema" width="420"></p>
<p><img src="../recursos/imgs/Fotoretarobot.jpg" alt="Diagrama del sistema" width="420"></p>
<h3 id="proyecto-final-plataforma-estabilizadora">Proyecto Final: plataforma estabilizadora</h3>
<p>En este proyecto pudimos realizar una plataforma que equilibra y centra una pelota por medio de una camara que esta configurada para detectar lo que uno le dice como colores por medio de una mascara de colores, asi tambien logramos sacar las coordenadas y mandar el error de que tan alejada estaba del centro de la camara o de una configuracion como otra mascara para la base. DEspues con esas coordenadas y por medio de bluetooth le mandabamos los datos del error a la Esp32 que esta controla dos servomotores los cuales por medio de esto regulan la inclinacion y angulo de los servomotores.
<div class="language-text highlight"><pre><span></span><code><span id="__span-6-1"><a id="__codelineno-6-1" name="__codelineno-6-1" href="#__codelineno-6-1"></a>import cv2
</span><span id="__span-6-2"><a id="__codelineno-6-2" name="__codelineno-6-2" href="#__codelineno-6-2"></a>import time
</span><span id="__span-6-3"><a id="__codelineno-6-3" name="__codelineno-6-3" href="#__codelineno-6-3"></a>import numpy as np
</span><span id="__span-6-4"><a id="__codelineno-6-4" name="__codelineno-6-4" href="#__codelineno-6-4"></a>import serial
</span><span id="__span-6-5"><a id="__codelineno-6-5" name="__codelineno-6-5" href="#__codelineno-6-5"></a>import serial.tools.list_ports
</span><span id="__span-6-6"><a id="__codelineno-6-6" name="__codelineno-6-6" href="#__codelineno-6-6"></a>
</span><span id="__span-6-7"><a id="__codelineno-6-7" name="__codelineno-6-7" href="#__codelineno-6-7"></a>esp32_port = &#39;COM14&#39;
</span><span id="__span-6-8"><a id="__codelineno-6-8" name="__codelineno-6-8" href="#__codelineno-6-8"></a>baud_rate = 115200
</span><span id="__span-6-9"><a id="__codelineno-6-9" name="__codelineno-6-9" href="#__codelineno-6-9"></a>
</span><span id="__span-6-10"><a id="__codelineno-6-10" name="__codelineno-6-10" href="#__codelineno-6-10"></a>print(&quot;=&quot; * 50)
</span><span id="__span-6-11"><a id="__codelineno-6-11" name="__codelineno-6-11" href="#__codelineno-6-11"></a>print(&quot;Intentando conectar con ESP32...&quot;)
</span><span id="__span-6-12"><a id="__codelineno-6-12" name="__codelineno-6-12" href="#__codelineno-6-12"></a>print(f&quot;Puerto: {esp32_port} | Baudios: {baud_rate}&quot;)
</span><span id="__span-6-13"><a id="__codelineno-6-13" name="__codelineno-6-13" href="#__codelineno-6-13"></a>
</span><span id="__span-6-14"><a id="__codelineno-6-14" name="__codelineno-6-14" href="#__codelineno-6-14"></a>def listar_puertos():
</span><span id="__span-6-15"><a id="__codelineno-6-15" name="__codelineno-6-15" href="#__codelineno-6-15"></a>    puertos = serial.tools.list_ports.comports()
</span><span id="__span-6-16"><a id="__codelineno-6-16" name="__codelineno-6-16" href="#__codelineno-6-16"></a>    print(&quot;\n Puertos COM disponibles:&quot;)
</span><span id="__span-6-17"><a id="__codelineno-6-17" name="__codelineno-6-17" href="#__codelineno-6-17"></a>    if len(puertos) == 0:
</span><span id="__span-6-18"><a id="__codelineno-6-18" name="__codelineno-6-18" href="#__codelineno-6-18"></a>        print(&quot;  No se encontraron puertos COM&quot;)
</span><span id="__span-6-19"><a id="__codelineno-6-19" name="__codelineno-6-19" href="#__codelineno-6-19"></a>    for puerto in puertos:
</span><span id="__span-6-20"><a id="__codelineno-6-20" name="__codelineno-6-20" href="#__codelineno-6-20"></a>        print(f&quot;   ‚Ä¢ {puerto.device}: {puerto.description}&quot;)
</span><span id="__span-6-21"><a id="__codelineno-6-21" name="__codelineno-6-21" href="#__codelineno-6-21"></a>    print()
</span><span id="__span-6-22"><a id="__codelineno-6-22" name="__codelineno-6-22" href="#__codelineno-6-22"></a>
</span><span id="__span-6-23"><a id="__codelineno-6-23" name="__codelineno-6-23" href="#__codelineno-6-23"></a>listar_puertos()
</span><span id="__span-6-24"><a id="__codelineno-6-24" name="__codelineno-6-24" href="#__codelineno-6-24"></a>
</span><span id="__span-6-25"><a id="__codelineno-6-25" name="__codelineno-6-25" href="#__codelineno-6-25"></a>try:
</span><span id="__span-6-26"><a id="__codelineno-6-26" name="__codelineno-6-26" href="#__codelineno-6-26"></a>    esp32 = serial.Serial(esp32_port, baud_rate, timeout=1)
</span><span id="__span-6-27"><a id="__codelineno-6-27" name="__codelineno-6-27" href="#__codelineno-6-27"></a>    time.sleep(2)
</span><span id="__span-6-28"><a id="__codelineno-6-28" name="__codelineno-6-28" href="#__codelineno-6-28"></a>    print(f&quot; ¬°Conectado al ESP32 en {esp32_port}!&quot;)
</span><span id="__span-6-29"><a id="__codelineno-6-29" name="__codelineno-6-29" href="#__codelineno-6-29"></a>except serial.SerialException as e:
</span><span id="__span-6-30"><a id="__codelineno-6-30" name="__codelineno-6-30" href="#__codelineno-6-30"></a>    print(f&quot; Error de conexi√≥n serial: {e}&quot;)
</span><span id="__span-6-31"><a id="__codelineno-6-31" name="__codelineno-6-31" href="#__codelineno-6-31"></a>    esp32 = None
</span><span id="__span-6-32"><a id="__codelineno-6-32" name="__codelineno-6-32" href="#__codelineno-6-32"></a>except Exception as e:
</span><span id="__span-6-33"><a id="__codelineno-6-33" name="__codelineno-6-33" href="#__codelineno-6-33"></a>    print(f&quot; Error inesperado: {e}&quot;)
</span><span id="__span-6-34"><a id="__codelineno-6-34" name="__codelineno-6-34" href="#__codelineno-6-34"></a>    esp32 = None
</span><span id="__span-6-35"><a id="__codelineno-6-35" name="__codelineno-6-35" href="#__codelineno-6-35"></a>
</span><span id="__span-6-36"><a id="__codelineno-6-36" name="__codelineno-6-36" href="#__codelineno-6-36"></a>print(&quot;=&quot; * 50)
</span><span id="__span-6-37"><a id="__codelineno-6-37" name="__codelineno-6-37" href="#__codelineno-6-37"></a>
</span><span id="__span-6-38"><a id="__codelineno-6-38" name="__codelineno-6-38" href="#__codelineno-6-38"></a>cap = cv2.VideoCapture(0)
</span><span id="__span-6-39"><a id="__codelineno-6-39" name="__codelineno-6-39" href="#__codelineno-6-39"></a>cap.set(cv2.CAP_PROP_FRAME_WIDTH, 640)
</span><span id="__span-6-40"><a id="__codelineno-6-40" name="__codelineno-6-40" href="#__codelineno-6-40"></a>cap.set(cv2.CAP_PROP_FRAME_HEIGHT, 480)
</span><span id="__span-6-41"><a id="__codelineno-6-41" name="__codelineno-6-41" href="#__codelineno-6-41"></a>
</span><span id="__span-6-42"><a id="__codelineno-6-42" name="__codelineno-6-42" href="#__codelineno-6-42"></a>if not cap.isOpened():
</span><span id="__span-6-43"><a id="__codelineno-6-43" name="__codelineno-6-43" href="#__codelineno-6-43"></a>    print(&quot;Error: No se pudo abrir la c√°mara&quot;)
</span><span id="__span-6-44"><a id="__codelineno-6-44" name="__codelineno-6-44" href="#__codelineno-6-44"></a>    exit()
</span><span id="__span-6-45"><a id="__codelineno-6-45" name="__codelineno-6-45" href="#__codelineno-6-45"></a>center_angle = 90
</span><span id="__span-6-46"><a id="__codelineno-6-46" name="__codelineno-6-46" href="#__codelineno-6-46"></a>current_x = center_angle
</span><span id="__span-6-47"><a id="__codelineno-6-47" name="__codelineno-6-47" href="#__codelineno-6-47"></a>current_y = center_angle
</span><span id="__span-6-48"><a id="__codelineno-6-48" name="__codelineno-6-48" href="#__codelineno-6-48"></a>DEAD_ZONE = 15  # Zona muerta reducida
</span><span id="__span-6-49"><a id="__codelineno-6-49" name="__codelineno-6-49" href="#__codelineno-6-49"></a>smoothing = 0.3  # Suavizado reducido para respuesta m√°s r√°pida
</span><span id="__span-6-50"><a id="__codelineno-6-50" name="__codelineno-6-50" href="#__codelineno-6-50"></a>
</span><span id="__span-6-51"><a id="__codelineno-6-51" name="__codelineno-6-51" href="#__codelineno-6-51"></a>Kp = 0.15
</span><span id="__span-6-52"><a id="__codelineno-6-52" name="__codelineno-6-52" href="#__codelineno-6-52"></a>Ki = 0.001
</span><span id="__span-6-53"><a id="__codelineno-6-53" name="__codelineno-6-53" href="#__codelineno-6-53"></a>Kd = 0.20
</span><span id="__span-6-54"><a id="__codelineno-6-54" name="__codelineno-6-54" href="#__codelineno-6-54"></a>
</span><span id="__span-6-55"><a id="__codelineno-6-55" name="__codelineno-6-55" href="#__codelineno-6-55"></a>prev_error_x = 0
</span><span id="__span-6-56"><a id="__codelineno-6-56" name="__codelineno-6-56" href="#__codelineno-6-56"></a>prev_error_y = 0
</span><span id="__span-6-57"><a id="__codelineno-6-57" name="__codelineno-6-57" href="#__codelineno-6-57"></a>integral_x = 0
</span><span id="__span-6-58"><a id="__codelineno-6-58" name="__codelineno-6-58" href="#__codelineno-6-58"></a>integral_y = 0
</span><span id="__span-6-59"><a id="__codelineno-6-59" name="__codelineno-6-59" href="#__codelineno-6-59"></a>
</span><span id="__span-6-60"><a id="__codelineno-6-60" name="__codelineno-6-60" href="#__codelineno-6-60"></a>MAX_INTEGRAL = 50
</span><span id="__span-6-61"><a id="__codelineno-6-61" name="__codelineno-6-61" href="#__codelineno-6-61"></a>LOW_GREEN = np.array([35, 40, 40])      # H: 35-85 (verde), S: m√≠nimo 40, V: m√≠nimo 40
</span><span id="__span-6-62"><a id="__codelineno-6-62" name="__codelineno-6-62" href="#__codelineno-6-62"></a>HIGH_GREEN = np.array([85, 255, 255])   # Rango amplio para captar diferentes tonos de verde
</span><span id="__span-6-63"><a id="__codelineno-6-63" name="__codelineno-6-63" href="#__codelineno-6-63"></a>AREA_MIN_PLATAFORMA = 1000  # √Årea m√≠nima del cuadrado
</span><span id="__span-6-64"><a id="__codelineno-6-64" name="__codelineno-6-64" href="#__codelineno-6-64"></a>
</span><span id="__span-6-65"><a id="__codelineno-6-65" name="__codelineno-6-65" href="#__codelineno-6-65"></a>LOW_PURPLE = np.array([125, 50, 50])    # H: 125-155 (morado/magenta), S: m√≠nimo 50, V: m√≠nimo 50
</span><span id="__span-6-66"><a id="__codelineno-6-66" name="__codelineno-6-66" href="#__codelineno-6-66"></a>HIGH_PURPLE = np.array([155, 255, 255]) # Cubre tonos morados y magentas
</span><span id="__span-6-67"><a id="__codelineno-6-67" name="__codelineno-6-67" href="#__codelineno-6-67"></a>AREA_MIN_PELOTA = 200
</span><span id="__span-6-68"><a id="__codelineno-6-68" name="__codelineno-6-68" href="#__codelineno-6-68"></a>RADIO_MIN_PELOTA = 8
</span><span id="__span-6-69"><a id="__codelineno-6-69" name="__codelineno-6-69" href="#__codelineno-6-69"></a>
</span><span id="__span-6-70"><a id="__codelineno-6-70" name="__codelineno-6-70" href="#__codelineno-6-70"></a>def constrain(value, min_val, max_val):
</span><span id="__span-6-71"><a id="__codelineno-6-71" name="__codelineno-6-71" href="#__codelineno-6-71"></a>    return max(min_val, min(max_val, value))
</span><span id="__span-6-72"><a id="__codelineno-6-72" name="__codelineno-6-72" href="#__codelineno-6-72"></a>
</span><span id="__span-6-73"><a id="__codelineno-6-73" name="__codelineno-6-73" href="#__codelineno-6-73"></a>def update_kp(val):
</span><span id="__span-6-74"><a id="__codelineno-6-74" name="__codelineno-6-74" href="#__codelineno-6-74"></a>    global Kp
</span><span id="__span-6-75"><a id="__codelineno-6-75" name="__codelineno-6-75" href="#__codelineno-6-75"></a>    Kp = val / 100.0  # Slider 0-100, valor real 0.00-1.00
</span><span id="__span-6-76"><a id="__codelineno-6-76" name="__codelineno-6-76" href="#__codelineno-6-76"></a>    print(f&quot;Kp = {Kp:.3f}&quot;)
</span><span id="__span-6-77"><a id="__codelineno-6-77" name="__codelineno-6-77" href="#__codelineno-6-77"></a>
</span><span id="__span-6-78"><a id="__codelineno-6-78" name="__codelineno-6-78" href="#__codelineno-6-78"></a>def update_ki(val):
</span><span id="__span-6-79"><a id="__codelineno-6-79" name="__codelineno-6-79" href="#__codelineno-6-79"></a>    global Ki
</span><span id="__span-6-80"><a id="__codelineno-6-80" name="__codelineno-6-80" href="#__codelineno-6-80"></a>    Ki = val / 1000.0  # Slider 0-100, valor real 0.000-0.100
</span><span id="__span-6-81"><a id="__codelineno-6-81" name="__codelineno-6-81" href="#__codelineno-6-81"></a>    print(f&quot;Ki = {Ki:.4f}&quot;)
</span><span id="__span-6-82"><a id="__codelineno-6-82" name="__codelineno-6-82" href="#__codelineno-6-82"></a>
</span><span id="__span-6-83"><a id="__codelineno-6-83" name="__codelineno-6-83" href="#__codelineno-6-83"></a>def update_kd(val):
</span><span id="__span-6-84"><a id="__codelineno-6-84" name="__codelineno-6-84" href="#__codelineno-6-84"></a>    global Kd
</span><span id="__span-6-85"><a id="__codelineno-6-85" name="__codelineno-6-85" href="#__codelineno-6-85"></a>    Kd = val / 100.0  # Slider 0-100, valor real 0.00-1.00
</span><span id="__span-6-86"><a id="__codelineno-6-86" name="__codelineno-6-86" href="#__codelineno-6-86"></a>    print(f&quot;Kd = {Kd:.3f}&quot;)
</span><span id="__span-6-87"><a id="__codelineno-6-87" name="__codelineno-6-87" href="#__codelineno-6-87"></a>
</span><span id="__span-6-88"><a id="__codelineno-6-88" name="__codelineno-6-88" href="#__codelineno-6-88"></a>cv2.namedWindow(&#39;Control PID&#39;)
</span><span id="__span-6-89"><a id="__codelineno-6-89" name="__codelineno-6-89" href="#__codelineno-6-89"></a>cv2.createTrackbar(&#39;Kp x100&#39;, &#39;Control PID&#39;, int(Kp * 100), 100, update_kp)
</span><span id="__span-6-90"><a id="__codelineno-6-90" name="__codelineno-6-90" href="#__codelineno-6-90"></a>cv2.createTrackbar(&#39;Ki x1000&#39;, &#39;Control PID&#39;, int(Ki * 1000), 100, update_ki)
</span><span id="__span-6-91"><a id="__codelineno-6-91" name="__codelineno-6-91" href="#__codelineno-6-91"></a>cv2.createTrackbar(&#39;Kd x100&#39;, &#39;Control PID&#39;, int(Kd * 100), 100, update_kd)
</span><span id="__span-6-92"><a id="__codelineno-6-92" name="__codelineno-6-92" href="#__codelineno-6-92"></a>
</span><span id="__span-6-93"><a id="__codelineno-6-93" name="__codelineno-6-93" href="#__codelineno-6-93"></a>prev_time = time.time()
</span><span id="__span-6-94"><a id="__codelineno-6-94" name="__codelineno-6-94" href="#__codelineno-6-94"></a>print(&quot;=&quot; * 50)
</span><span id="__span-6-95"><a id="__codelineno-6-95" name="__codelineno-6-95" href="#__codelineno-6-95"></a>print(&quot;Sistema de Balance: Plataforma VERDE + Pelota MORADA&quot;)
</span><span id="__span-6-96"><a id="__codelineno-6-96" name="__codelineno-6-96" href="#__codelineno-6-96"></a>print(&quot;=&quot; * 50)
</span><span id="__span-6-97"><a id="__codelineno-6-97" name="__codelineno-6-97" href="#__codelineno-6-97"></a>print(&quot;CONFIGURACI√ìN:&quot;)
</span><span id="__span-6-98"><a id="__codelineno-6-98" name="__codelineno-6-98" href="#__codelineno-6-98"></a>print(f&quot;  ‚Ä¢ Centro servos: {center_angle}¬∞ (Rango: 0-180¬∞)&quot;)
</span><span id="__span-6-99"><a id="__codelineno-6-99" name="__codelineno-6-99" href="#__codelineno-6-99"></a>print(f&quot;  ‚Ä¢ Zona muerta: ¬±{DEAD_ZONE} p√≠xeles&quot;)
</span><span id="__span-6-100"><a id="__codelineno-6-100" name="__codelineno-6-100" href="#__codelineno-6-100"></a>print(f&quot;  ‚Ä¢ Suavizado: {smoothing}&quot;)
</span><span id="__span-6-101"><a id="__codelineno-6-101" name="__codelineno-6-101" href="#__codelineno-6-101"></a>print(f&quot;  ‚Ä¢ PID: Kp={Kp} Ki={Ki} Kd={Kd}&quot;)
</span><span id="__span-6-102"><a id="__codelineno-6-102" name="__codelineno-6-102" href="#__codelineno-6-102"></a>print(&quot;\nDETECCI√ìN:&quot;)
</span><span id="__span-6-103"><a id="__codelineno-6-103" name="__codelineno-6-103" href="#__codelineno-6-103"></a>print(&quot;  ‚Ä¢ PLATAFORMA VERDE (HSV): Detecta √°rea m√°s grande de tonos verdes&quot;)
</span><span id="__span-6-104"><a id="__codelineno-6-104" name="__codelineno-6-104" href="#__codelineno-6-104"></a>print(f&quot;    Rango H: {LOW_GREEN[0]}-{HIGH_GREEN[0]} | S: {LOW_GREEN[1]}-{HIGH_GREEN[1]} | V: {LOW_GREEN[2]}-{HIGH_GREEN[2]}&quot;)
</span><span id="__span-6-105"><a id="__codelineno-6-105" name="__codelineno-6-105" href="#__codelineno-6-105"></a>print(&quot;  ‚Ä¢ PELOTA MORADA: Posici√≥n para calcular error&quot;)
</span><span id="__span-6-106"><a id="__codelineno-6-106" name="__codelineno-6-106" href="#__codelineno-6-106"></a>print(f&quot;    Rango H: {LOW_PURPLE[0]}-{HIGH_PURPLE[0]} | S: {LOW_PURPLE[1]}-{HIGH_PURPLE[1]} | V: {LOW_PURPLE[2]}-{HIGH_PURPLE[2]}&quot;)
</span><span id="__span-6-107"><a id="__codelineno-6-107" name="__codelineno-6-107" href="#__codelineno-6-107"></a>print(&quot;\nCONTROLES:&quot;)
</span><span id="__span-6-108"><a id="__codelineno-6-108" name="__codelineno-6-108" href="#__codelineno-6-108"></a>print(&quot;  ‚Ä¢ &#39;q&#39; ‚Üí Salir&quot;)
</span><span id="__span-6-109"><a id="__codelineno-6-109" name="__codelineno-6-109" href="#__codelineno-6-109"></a>print(&quot;  ‚Ä¢ &#39;c&#39; ‚Üí Resetear integrales&quot;)
</span><span id="__span-6-110"><a id="__codelineno-6-110" name="__codelineno-6-110" href="#__codelineno-6-110"></a>print(&quot;  ‚Ä¢ Sliders ‚Üí Ajustar PID en tiempo real&quot;)
</span><span id="__span-6-111"><a id="__codelineno-6-111" name="__codelineno-6-111" href="#__codelineno-6-111"></a>print(&quot;=&quot; * 50)
</span><span id="__span-6-112"><a id="__codelineno-6-112" name="__codelineno-6-112" href="#__codelineno-6-112"></a>
</span><span id="__span-6-113"><a id="__codelineno-6-113" name="__codelineno-6-113" href="#__codelineno-6-113"></a>frame_count = 0
</span><span id="__span-6-114"><a id="__codelineno-6-114" name="__codelineno-6-114" href="#__codelineno-6-114"></a>fps_time = time.time()
</span><span id="__span-6-115"><a id="__codelineno-6-115" name="__codelineno-6-115" href="#__codelineno-6-115"></a>fps = 0
</span><span id="__span-6-116"><a id="__codelineno-6-116" name="__codelineno-6-116" href="#__codelineno-6-116"></a>
</span><span id="__span-6-117"><a id="__codelineno-6-117" name="__codelineno-6-117" href="#__codelineno-6-117"></a>while True:
</span><span id="__span-6-118"><a id="__codelineno-6-118" name="__codelineno-6-118" href="#__codelineno-6-118"></a>    ret, frame = cap.read()
</span><span id="__span-6-119"><a id="__codelineno-6-119" name="__codelineno-6-119" href="#__codelineno-6-119"></a>    if not ret:
</span><span id="__span-6-120"><a id="__codelineno-6-120" name="__codelineno-6-120" href="#__codelineno-6-120"></a>        print(&quot;Error: No se pudo leer frame de la c√°mara&quot;)
</span><span id="__span-6-121"><a id="__codelineno-6-121" name="__codelineno-6-121" href="#__codelineno-6-121"></a>        break
</span><span id="__span-6-122"><a id="__codelineno-6-122" name="__codelineno-6-122" href="#__codelineno-6-122"></a>
</span><span id="__span-6-123"><a id="__codelineno-6-123" name="__codelineno-6-123" href="#__codelineno-6-123"></a>    frame = cv2.flip(frame, 1)
</span><span id="__span-6-124"><a id="__codelineno-6-124" name="__codelineno-6-124" href="#__codelineno-6-124"></a>    height, width = frame.shape[:2]
</span><span id="__span-6-125"><a id="__codelineno-6-125" name="__codelineno-6-125" href="#__codelineno-6-125"></a>    centrox, centroy = width//2, height//2
</span><span id="__span-6-126"><a id="__codelineno-6-126" name="__codelineno-6-126" href="#__codelineno-6-126"></a>
</span><span id="__span-6-127"><a id="__codelineno-6-127" name="__codelineno-6-127" href="#__codelineno-6-127"></a>    hsv_plat = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)
</span><span id="__span-6-128"><a id="__codelineno-6-128" name="__codelineno-6-128" href="#__codelineno-6-128"></a>
</span><span id="__span-6-129"><a id="__codelineno-6-129" name="__codelineno-6-129" href="#__codelineno-6-129"></a>    mask_plataforma = cv2.inRange(hsv_plat, LOW_GREEN, HIGH_GREEN)
</span><span id="__span-6-130"><a id="__codelineno-6-130" name="__codelineno-6-130" href="#__codelineno-6-130"></a>
</span><span id="__span-6-131"><a id="__codelineno-6-131" name="__codelineno-6-131" href="#__codelineno-6-131"></a>    kernel_plat = np.ones((7,7), np.uint8)
</span><span id="__span-6-132"><a id="__codelineno-6-132" name="__codelineno-6-132" href="#__codelineno-6-132"></a>    mask_plataforma = cv2.morphologyEx(mask_plataforma, cv2.MORPH_CLOSE, kernel_plat)
</span><span id="__span-6-133"><a id="__codelineno-6-133" name="__codelineno-6-133" href="#__codelineno-6-133"></a>    mask_plataforma = cv2.morphologyEx(mask_plataforma, cv2.MORPH_OPEN, kernel_plat)
</span><span id="__span-6-134"><a id="__codelineno-6-134" name="__codelineno-6-134" href="#__codelineno-6-134"></a>    mask_plataforma = cv2.dilate(mask_plataforma, kernel_plat, iterations=1)
</span><span id="__span-6-135"><a id="__codelineno-6-135" name="__codelineno-6-135" href="#__codelineno-6-135"></a>
</span><span id="__span-6-136"><a id="__codelineno-6-136" name="__codelineno-6-136" href="#__codelineno-6-136"></a>    contours_plat, _ = cv2.findContours(mask_plataforma, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
</span><span id="__span-6-137"><a id="__codelineno-6-137" name="__codelineno-6-137" href="#__codelineno-6-137"></a>    area_max_plat = 0
</span><span id="__span-6-138"><a id="__codelineno-6-138" name="__codelineno-6-138" href="#__codelineno-6-138"></a>    contorno_plat = None
</span><span id="__span-6-139"><a id="__codelineno-6-139" name="__codelineno-6-139" href="#__codelineno-6-139"></a>    centro_plataforma = None
</span><span id="__span-6-140"><a id="__codelineno-6-140" name="__codelineno-6-140" href="#__codelineno-6-140"></a>    rectangulo_info = None
</span><span id="__span-6-141"><a id="__codelineno-6-141" name="__codelineno-6-141" href="#__codelineno-6-141"></a>
</span><span id="__span-6-142"><a id="__codelineno-6-142" name="__codelineno-6-142" href="#__codelineno-6-142"></a>    for c in contours_plat:
</span><span id="__span-6-143"><a id="__codelineno-6-143" name="__codelineno-6-143" href="#__codelineno-6-143"></a>        area = cv2.contourArea(c)
</span><span id="__span-6-144"><a id="__codelineno-6-144" name="__codelineno-6-144" href="#__codelineno-6-144"></a>        if area &gt; area_max_plat and area &gt; AREA_MIN_PLATAFORMA:
</span><span id="__span-6-145"><a id="__codelineno-6-145" name="__codelineno-6-145" href="#__codelineno-6-145"></a>            area_max_plat = area
</span><span id="__span-6-146"><a id="__codelineno-6-146" name="__codelineno-6-146" href="#__codelineno-6-146"></a>            contorno_plat = c
</span><span id="__span-6-147"><a id="__codelineno-6-147" name="__codelineno-6-147" href="#__codelineno-6-147"></a>            rectangulo_info = cv2.minAreaRect(c)
</span><span id="__span-6-148"><a id="__codelineno-6-148" name="__codelineno-6-148" href="#__codelineno-6-148"></a>
</span><span id="__span-6-149"><a id="__codelineno-6-149" name="__codelineno-6-149" href="#__codelineno-6-149"></a>            M = cv2.moments(c)
</span><span id="__span-6-150"><a id="__codelineno-6-150" name="__codelineno-6-150" href="#__codelineno-6-150"></a>            if M[&quot;m00&quot;] != 0:
</span><span id="__span-6-151"><a id="__codelineno-6-151" name="__codelineno-6-151" href="#__codelineno-6-151"></a>                cx_plat = int(M[&quot;m10&quot;] / M[&quot;m00&quot;])
</span><span id="__span-6-152"><a id="__codelineno-6-152" name="__codelineno-6-152" href="#__codelineno-6-152"></a>                cy_plat = int(M[&quot;m01&quot;] / M[&quot;m00&quot;])
</span><span id="__span-6-153"><a id="__codelineno-6-153" name="__codelineno-6-153" href="#__codelineno-6-153"></a>                centro_plataforma = (cx_plat, cy_plat)
</span><span id="__span-6-154"><a id="__codelineno-6-154" name="__codelineno-6-154" href="#__codelineno-6-154"></a>
</span><span id="__span-6-155"><a id="__codelineno-6-155" name="__codelineno-6-155" href="#__codelineno-6-155"></a>    hsv = cv2.cvtColor(frame, cv2.COLOR_BGR2HSV)
</span><span id="__span-6-156"><a id="__codelineno-6-156" name="__codelineno-6-156" href="#__codelineno-6-156"></a>    mask_pelota = cv2.inRange(hsv, LOW_PURPLE, HIGH_PURPLE)
</span><span id="__span-6-157"><a id="__codelineno-6-157" name="__codelineno-6-157" href="#__codelineno-6-157"></a>
</span><span id="__span-6-158"><a id="__codelineno-6-158" name="__codelineno-6-158" href="#__codelineno-6-158"></a>    kernel_pelota = np.ones((5,5), np.uint8)
</span><span id="__span-6-159"><a id="__codelineno-6-159" name="__codelineno-6-159" href="#__codelineno-6-159"></a>    mask_pelota = cv2.morphologyEx(mask_pelota, cv2.MORPH_OPEN, kernel_pelota)
</span><span id="__span-6-160"><a id="__codelineno-6-160" name="__codelineno-6-160" href="#__codelineno-6-160"></a>    mask_pelota = cv2.morphologyEx(mask_pelota, cv2.MORPH_CLOSE, kernel_pelota)
</span><span id="__span-6-161"><a id="__codelineno-6-161" name="__codelineno-6-161" href="#__codelineno-6-161"></a>    mask_pelota = cv2.dilate(mask_pelota, kernel_pelota, iterations=1)
</span><span id="__span-6-162"><a id="__codelineno-6-162" name="__codelineno-6-162" href="#__codelineno-6-162"></a>
</span><span id="__span-6-163"><a id="__codelineno-6-163" name="__codelineno-6-163" href="#__codelineno-6-163"></a>    contours_pelota, _ = cv2.findContours(mask_pelota, cv2.RETR_EXTERNAL, cv2.CHAIN_APPROX_SIMPLE)
</span><span id="__span-6-164"><a id="__codelineno-6-164" name="__codelineno-6-164" href="#__codelineno-6-164"></a>    area_max_pelota = 0
</span><span id="__span-6-165"><a id="__codelineno-6-165" name="__codelineno-6-165" href="#__codelineno-6-165"></a>    contorno_pelota = None
</span><span id="__span-6-166"><a id="__codelineno-6-166" name="__codelineno-6-166" href="#__codelineno-6-166"></a>    centro_pelota = None
</span><span id="__span-6-167"><a id="__codelineno-6-167" name="__codelineno-6-167" href="#__codelineno-6-167"></a>    radio_pelota = 0
</span><span id="__span-6-168"><a id="__codelineno-6-168" name="__codelineno-6-168" href="#__codelineno-6-168"></a>
</span><span id="__span-6-169"><a id="__codelineno-6-169" name="__codelineno-6-169" href="#__codelineno-6-169"></a>    for c in contours_pelota:
</span><span id="__span-6-170"><a id="__codelineno-6-170" name="__codelineno-6-170" href="#__codelineno-6-170"></a>        area = cv2.contourArea(c)
</span><span id="__span-6-171"><a id="__codelineno-6-171" name="__codelineno-6-171" href="#__codelineno-6-171"></a>        if area &gt; area_max_pelota:
</span><span id="__span-6-172"><a id="__codelineno-6-172" name="__codelineno-6-172" href="#__codelineno-6-172"></a>            area_max_pelota = area
</span><span id="__span-6-173"><a id="__codelineno-6-173" name="__codelineno-6-173" href="#__codelineno-6-173"></a>            contorno_pelota = c
</span><span id="__span-6-174"><a id="__codelineno-6-174" name="__codelineno-6-174" href="#__codelineno-6-174"></a>            (x_pel, y_pel), radio_pelota = cv2.minEnclosingCircle(c)
</span><span id="__span-6-175"><a id="__codelineno-6-175" name="__codelineno-6-175" href="#__codelineno-6-175"></a>            if radio_pelota &gt; RADIO_MIN_PELOTA and area &gt; AREA_MIN_PELOTA:
</span><span id="__span-6-176"><a id="__codelineno-6-176" name="__codelineno-6-176" href="#__codelineno-6-176"></a>                centro_pelota = (int(x_pel), int(y_pel))
</span><span id="__span-6-177"><a id="__codelineno-6-177" name="__codelineno-6-177" href="#__codelineno-6-177"></a>
</span><span id="__span-6-178"><a id="__codelineno-6-178" name="__codelineno-6-178" href="#__codelineno-6-178"></a>    out_original = frame.copy()
</span><span id="__span-6-179"><a id="__codelineno-6-179" name="__codelineno-6-179" href="#__codelineno-6-179"></a>
</span><span id="__span-6-180"><a id="__codelineno-6-180" name="__codelineno-6-180" href="#__codelineno-6-180"></a>    mask_combinada = cv2.bitwise_or(mask_plataforma, mask_pelota)
</span><span id="__span-6-181"><a id="__codelineno-6-181" name="__codelineno-6-181" href="#__codelineno-6-181"></a>    out_deteccion = cv2.cvtColor(mask_combinada, cv2.COLOR_GRAY2BGR)
</span><span id="__span-6-182"><a id="__codelineno-6-182" name="__codelineno-6-182" href="#__codelineno-6-182"></a>
</span><span id="__span-6-183"><a id="__codelineno-6-183" name="__codelineno-6-183" href="#__codelineno-6-183"></a>    # Verde para plataforma, Morado para pelota
</span><span id="__span-6-184"><a id="__codelineno-6-184" name="__codelineno-6-184" href="#__codelineno-6-184"></a>    out_deteccion[mask_plataforma &gt; 0] = [0, 255, 0]      # Verde
</span><span id="__span-6-185"><a id="__codelineno-6-185" name="__codelineno-6-185" href="#__codelineno-6-185"></a>    out_deteccion[mask_pelota &gt; 0] = [255, 0, 255]        # Magenta/Morado
</span><span id="__span-6-186"><a id="__codelineno-6-186" name="__codelineno-6-186" href="#__codelineno-6-186"></a>
</span><span id="__span-6-187"><a id="__codelineno-6-187" name="__codelineno-6-187" href="#__codelineno-6-187"></a>    current_time = time.time()
</span><span id="__span-6-188"><a id="__codelineno-6-188" name="__codelineno-6-188" href="#__codelineno-6-188"></a>    dt = current_time - prev_time
</span><span id="__span-6-189"><a id="__codelineno-6-189" name="__codelineno-6-189" href="#__codelineno-6-189"></a>    prev_time = current_time
</span><span id="__span-6-190"><a id="__codelineno-6-190" name="__codelineno-6-190" href="#__codelineno-6-190"></a>    if dt &lt; 0.001:
</span><span id="__span-6-191"><a id="__codelineno-6-191" name="__codelineno-6-191" href="#__codelineno-6-191"></a>        dt = 0.001
</span><span id="__span-6-192"><a id="__codelineno-6-192" name="__codelineno-6-192" href="#__codelineno-6-192"></a>
</span><span id="__span-6-193"><a id="__codelineno-6-193" name="__codelineno-6-193" href="#__codelineno-6-193"></a>    plataforma_detectada = (contorno_plat is not None and area_max_plat &gt; AREA_MIN_PLATAFORMA and centro_plataforma is not None)
</span><span id="__span-6-194"><a id="__codelineno-6-194" name="__codelineno-6-194" href="#__codelineno-6-194"></a>    pelota_detectada = (contorno_pelota is not None and centro_pelota is not None)
</span><span id="__span-6-195"><a id="__codelineno-6-195" name="__codelineno-6-195" href="#__codelineno-6-195"></a>
</span><span id="__span-6-196"><a id="__codelineno-6-196" name="__codelineno-6-196" href="#__codelineno-6-196"></a>    if plataforma_detectada:
</span><span id="__span-6-197"><a id="__codelineno-6-197" name="__codelineno-6-197" href="#__codelineno-6-197"></a>        if rectangulo_info:
</span><span id="__span-6-198"><a id="__codelineno-6-198" name="__codelineno-6-198" href="#__codelineno-6-198"></a>            box = cv2.boxPoints(rectangulo_info)
</span><span id="__span-6-199"><a id="__codelineno-6-199" name="__codelineno-6-199" href="#__codelineno-6-199"></a>            box = np.intp(box)
</span><span id="__span-6-200"><a id="__codelineno-6-200" name="__codelineno-6-200" href="#__codelineno-6-200"></a>            cv2.drawContours(out_original, [box], 0, (0, 255, 0), 3)
</span><span id="__span-6-201"><a id="__codelineno-6-201" name="__codelineno-6-201" href="#__codelineno-6-201"></a>            cv2.drawContours(out_deteccion, [box], 0, (0, 255, 0), 2)
</span><span id="__span-6-202"><a id="__codelineno-6-202" name="__codelineno-6-202" href="#__codelineno-6-202"></a>
</span><span id="__span-6-203"><a id="__codelineno-6-203" name="__codelineno-6-203" href="#__codelineno-6-203"></a>        cv2.circle(out_original, centro_plataforma, 12, (0, 255, 0), 3)
</span><span id="__span-6-204"><a id="__codelineno-6-204" name="__codelineno-6-204" href="#__codelineno-6-204"></a>        cv2.circle(out_original, centro_plataforma, 5, (0, 255, 0), -1)
</span><span id="__span-6-205"><a id="__codelineno-6-205" name="__codelineno-6-205" href="#__codelineno-6-205"></a>        cv2.putText(out_original, &quot;PLATAFORMA&quot;, (centro_plataforma[0]-40, centro_plataforma[1]-20),
</span><span id="__span-6-206"><a id="__codelineno-6-206" name="__codelineno-6-206" href="#__codelineno-6-206"></a>                   cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0, 255, 0), 2)
</span><span id="__span-6-207"><a id="__codelineno-6-207" name="__codelineno-6-207" href="#__codelineno-6-207"></a>
</span><span id="__span-6-208"><a id="__codelineno-6-208" name="__codelineno-6-208" href="#__codelineno-6-208"></a>        if pelota_detectada:
</span><span id="__span-6-209"><a id="__codelineno-6-209" name="__codelineno-6-209" href="#__codelineno-6-209"></a>            cv2.circle(out_original, centro_pelota, int(radio_pelota), (255, 0, 255), 2)
</span><span id="__span-6-210"><a id="__codelineno-6-210" name="__codelineno-6-210" href="#__codelineno-6-210"></a>            cv2.circle(out_original, centro_pelota, 5, (255, 0, 255), -1)
</span><span id="__span-6-211"><a id="__codelineno-6-211" name="__codelineno-6-211" href="#__codelineno-6-211"></a>            cv2.putText(out_original, &quot;PELOTA&quot;, (centro_pelota[0]-30, centro_pelota[1]+25),
</span><span id="__span-6-212"><a id="__codelineno-6-212" name="__codelineno-6-212" href="#__codelineno-6-212"></a>                       cv2.FONT_HERSHEY_SIMPLEX, 0.5, (255, 0, 255), 2)
</span><span id="__span-6-213"><a id="__codelineno-6-213" name="__codelineno-6-213" href="#__codelineno-6-213"></a>            cv2.line(out_original, centro_plataforma, centro_pelota, (255, 0, 255), 2)
</span><span id="__span-6-214"><a id="__codelineno-6-214" name="__codelineno-6-214" href="#__codelineno-6-214"></a>            cv2.line(out_deteccion, centro_plataforma, centro_pelota, (255, 255, 255), 2)
</span><span id="__span-6-215"><a id="__codelineno-6-215" name="__codelineno-6-215" href="#__codelineno-6-215"></a>
</span><span id="__span-6-216"><a id="__codelineno-6-216" name="__codelineno-6-216" href="#__codelineno-6-216"></a>            error_x = (centro_pelota[0] - centro_plataforma[0])
</span><span id="__span-6-217"><a id="__codelineno-6-217" name="__codelineno-6-217" href="#__codelineno-6-217"></a>            error_y = (centro_pelota[1] - centro_plataforma[1])
</span><span id="__span-6-218"><a id="__codelineno-6-218" name="__codelineno-6-218" href="#__codelineno-6-218"></a>
</span><span id="__span-6-219"><a id="__codelineno-6-219" name="__codelineno-6-219" href="#__codelineno-6-219"></a>            if abs(error_x) &lt; DEAD_ZONE:
</span><span id="__span-6-220"><a id="__codelineno-6-220" name="__codelineno-6-220" href="#__codelineno-6-220"></a>                error_x = 0
</span><span id="__span-6-221"><a id="__codelineno-6-221" name="__codelineno-6-221" href="#__codelineno-6-221"></a>            if abs(error_y) &lt; DEAD_ZONE:
</span><span id="__span-6-222"><a id="__codelineno-6-222" name="__codelineno-6-222" href="#__codelineno-6-222"></a>                error_y = 0
</span><span id="__span-6-223"><a id="__codelineno-6-223" name="__codelineno-6-223" href="#__codelineno-6-223"></a>
</span><span id="__span-6-224"><a id="__codelineno-6-224" name="__codelineno-6-224" href="#__codelineno-6-224"></a>            integral_x += error_x * dt
</span><span id="__span-6-225"><a id="__codelineno-6-225" name="__codelineno-6-225" href="#__codelineno-6-225"></a>            integral_y += error_y * dt
</span><span id="__span-6-226"><a id="__codelineno-6-226" name="__codelineno-6-226" href="#__codelineno-6-226"></a>            integral_x = constrain(integral_x, -MAX_INTEGRAL, MAX_INTEGRAL)
</span><span id="__span-6-227"><a id="__codelineno-6-227" name="__codelineno-6-227" href="#__codelineno-6-227"></a>            integral_y = constrain(integral_y, -MAX_INTEGRAL, MAX_INTEGRAL)
</span><span id="__span-6-228"><a id="__codelineno-6-228" name="__codelineno-6-228" href="#__codelineno-6-228"></a>
</span><span id="__span-6-229"><a id="__codelineno-6-229" name="__codelineno-6-229" href="#__codelineno-6-229"></a>            derivative_x = (error_x - prev_error_x) / dt
</span><span id="__span-6-230"><a id="__codelineno-6-230" name="__codelineno-6-230" href="#__codelineno-6-230"></a>            derivative_y = (error_y - prev_error_y) / dt
</span><span id="__span-6-231"><a id="__codelineno-6-231" name="__codelineno-6-231" href="#__codelineno-6-231"></a>
</span><span id="__span-6-232"><a id="__codelineno-6-232" name="__codelineno-6-232" href="#__codelineno-6-232"></a>            output_x = Kp*error_x + Ki*integral_x + Kd*derivative_x
</span><span id="__span-6-233"><a id="__codelineno-6-233" name="__codelineno-6-233" href="#__codelineno-6-233"></a>            output_y = Kp*error_y + Ki*integral_y + Kd*derivative_y
</span><span id="__span-6-234"><a id="__codelineno-6-234" name="__codelineno-6-234" href="#__codelineno-6-234"></a>
</span><span id="__span-6-235"><a id="__codelineno-6-235" name="__codelineno-6-235" href="#__codelineno-6-235"></a>            prev_error_x = error_x
</span><span id="__span-6-236"><a id="__codelineno-6-236" name="__codelineno-6-236" href="#__codelineno-6-236"></a>            prev_error_y = error_y
</span><span id="__span-6-237"><a id="__codelineno-6-237" name="__codelineno-6-237" href="#__codelineno-6-237"></a>
</span><span id="__span-6-238"><a id="__codelineno-6-238" name="__codelineno-6-238" href="#__codelineno-6-238"></a>            delta_x = output_x * 0.15
</span><span id="__span-6-239"><a id="__codelineno-6-239" name="__codelineno-6-239" href="#__codelineno-6-239"></a>            delta_y = output_y * 0.15
</span><span id="__span-6-240"><a id="__codelineno-6-240" name="__codelineno-6-240" href="#__codelineno-6-240"></a>
</span><span id="__span-6-241"><a id="__codelineno-6-241" name="__codelineno-6-241" href="#__codelineno-6-241"></a>            target_x = center_angle + delta_x
</span><span id="__span-6-242"><a id="__codelineno-6-242" name="__codelineno-6-242" href="#__codelineno-6-242"></a>            target_y = center_angle + delta_y
</span><span id="__span-6-243"><a id="__codelineno-6-243" name="__codelineno-6-243" href="#__codelineno-6-243"></a>
</span><span id="__span-6-244"><a id="__codelineno-6-244" name="__codelineno-6-244" href="#__codelineno-6-244"></a>            current_x = current_x * (1 - smoothing) + target_x * smoothing
</span><span id="__span-6-245"><a id="__codelineno-6-245" name="__codelineno-6-245" href="#__codelineno-6-245"></a>            current_y = current_y * (1 - smoothing) + target_y * smoothing
</span><span id="__span-6-246"><a id="__codelineno-6-246" name="__codelineno-6-246" href="#__codelineno-6-246"></a>
</span><span id="__span-6-247"><a id="__codelineno-6-247" name="__codelineno-6-247" href="#__codelineno-6-247"></a>            current_x = constrain(current_x, 0, 110)
</span><span id="__span-6-248"><a id="__codelineno-6-248" name="__codelineno-6-248" href="#__codelineno-6-248"></a>            current_y = constrain(current_y, 0, 110)
</span><span id="__span-6-249"><a id="__codelineno-6-249" name="__codelineno-6-249" href="#__codelineno-6-249"></a>
</span><span id="__span-6-250"><a id="__codelineno-6-250" name="__codelineno-6-250" href="#__codelineno-6-250"></a>            if esp32:
</span><span id="__span-6-251"><a id="__codelineno-6-251" name="__codelineno-6-251" href="#__codelineno-6-251"></a>                mensaje = f&quot;{int(current_x)},{int(current_y)}\n&quot;
</span><span id="__span-6-252"><a id="__codelineno-6-252" name="__codelineno-6-252" href="#__codelineno-6-252"></a>                try:
</span><span id="__span-6-253"><a id="__codelineno-6-253" name="__codelineno-6-253" href="#__codelineno-6-253"></a>                    esp32.write(mensaje.encode())
</span><span id="__span-6-254"><a id="__codelineno-6-254" name="__codelineno-6-254" href="#__codelineno-6-254"></a>                    if esp32.in_waiting &gt; 0:
</span><span id="__span-6-255"><a id="__codelineno-6-255" name="__codelineno-6-255" href="#__codelineno-6-255"></a>                        respuesta = esp32.readline().decode(&#39;utf-8&#39;, errors=&#39;ignore&#39;).strip()
</span><span id="__span-6-256"><a id="__codelineno-6-256" name="__codelineno-6-256" href="#__codelineno-6-256"></a>                        if respuesta and frame_count % 30 == 0:
</span><span id="__span-6-257"><a id="__codelineno-6-257" name="__codelineno-6-257" href="#__codelineno-6-257"></a>                            print(f&quot;üì° ESP32: {respuesta}&quot;)
</span><span id="__span-6-258"><a id="__codelineno-6-258" name="__codelineno-6-258" href="#__codelineno-6-258"></a>                except Exception as e:
</span><span id="__span-6-259"><a id="__codelineno-6-259" name="__codelineno-6-259" href="#__codelineno-6-259"></a>                    if frame_count % 30 == 0:
</span><span id="__span-6-260"><a id="__codelineno-6-260" name="__codelineno-6-260" href="#__codelineno-6-260"></a>                        print(f&quot;‚úó Error: {e}&quot;)
</span><span id="__span-6-261"><a id="__codelineno-6-261" name="__codelineno-6-261" href="#__codelineno-6-261"></a>
</span><span id="__span-6-262"><a id="__codelineno-6-262" name="__codelineno-6-262" href="#__codelineno-6-262"></a>            if frame_count % 5 == 0:
</span><span id="__span-6-263"><a id="__codelineno-6-263" name="__codelineno-6-263" href="#__codelineno-6-263"></a>                print(f&quot;‚úì X={int(current_x):3d}¬∞ Y={int(current_y):3d}¬∞ | Err X={-error_x:4d} Y={-error_y:4d} | Out X={output_x:6.1f} Y={output_y:6.1f}&quot;)
</span><span id="__span-6-264"><a id="__codelineno-6-264" name="__codelineno-6-264" href="#__codelineno-6-264"></a>
</span><span id="__span-6-265"><a id="__codelineno-6-265" name="__codelineno-6-265" href="#__codelineno-6-265"></a>            cv2.putText(out_original, f&quot;Error X:{-error_x} Y:{-error_y}&quot;, (10,30),
</span><span id="__span-6-266"><a id="__codelineno-6-266" name="__codelineno-6-266" href="#__codelineno-6-266"></a>                        cv2.FONT_HERSHEY_SIMPLEX, 0.6, (255,255,0), 2)
</span><span id="__span-6-267"><a id="__codelineno-6-267" name="__codelineno-6-267" href="#__codelineno-6-267"></a>            cv2.putText(out_original, f&quot;Servo X:{int(current_x)} Y:{int(current_y)}&quot;, (10,60),
</span><span id="__span-6-268"><a id="__codelineno-6-268" name="__codelineno-6-268" href="#__codelineno-6-268"></a>                        cv2.FONT_HERSHEY_SIMPLEX, 0.6, (255,255,0), 2)
</span><span id="__span-6-269"><a id="__codelineno-6-269" name="__codelineno-6-269" href="#__codelineno-6-269"></a>            cv2.putText(out_original, f&quot;Distancia: {int(np.sqrt(error_x**2 + error_y**2))} px&quot;, (10,90),
</span><span id="__span-6-270"><a id="__codelineno-6-270" name="__codelineno-6-270" href="#__codelineno-6-270"></a>                        cv2.FONT_HERSHEY_SIMPLEX, 0.5, (0,255,255), 2)
</span><span id="__span-6-271"><a id="__codelineno-6-271" name="__codelineno-6-271" href="#__codelineno-6-271"></a>        else:
</span><span id="__span-6-272"><a id="__codelineno-6-272" name="__codelineno-6-272" href="#__codelineno-6-272"></a>            cv2.putText(out_original, &quot;PELOTA NO DETECTADA&quot;, (10,30),
</span><span id="__span-6-273"><a id="__codelineno-6-273" name="__codelineno-6-273" href="#__codelineno-6-273"></a>                        cv2.FONT_HERSHEY_SIMPLEX, 0.7, (0,165,255), 2)
</span><span id="__span-6-274"><a id="__codelineno-6-274" name="__codelineno-6-274" href="#__codelineno-6-274"></a>
</span><span id="__span-6-275"><a id="__codelineno-6-275" name="__codelineno-6-275" href="#__codelineno-6-275"></a>            integral_x = 0
</span><span id="__span-6-276"><a id="__codelineno-6-276" name="__codelineno-6-276" href="#__codelineno-6-276"></a>            integral_y = 0
</span><span id="__span-6-277"><a id="__codelineno-6-277" name="__codelineno-6-277" href="#__codelineno-6-277"></a>            prev_error_x = 0
</span><span id="__span-6-278"><a id="__codelineno-6-278" name="__codelineno-6-278" href="#__codelineno-6-278"></a>            prev_error_y = 0
</span><span id="__span-6-279"><a id="__codelineno-6-279" name="__codelineno-6-279" href="#__codelineno-6-279"></a>
</span><span id="__span-6-280"><a id="__codelineno-6-280" name="__codelineno-6-280" href="#__codelineno-6-280"></a>            current_x = current_x * (1 - smoothing*0.5) + center_angle * smoothing * 0.5
</span><span id="__span-6-281"><a id="__codelineno-6-281" name="__codelineno-6-281" href="#__codelineno-6-281"></a>            current_y = current_y * (1 - smoothing*0.5) + center_angle * smoothing * 0.5
</span><span id="__span-6-282"><a id="__codelineno-6-282" name="__codelineno-6-282" href="#__codelineno-6-282"></a>
</span><span id="__span-6-283"><a id="__codelineno-6-283" name="__codelineno-6-283" href="#__codelineno-6-283"></a>            if esp32 and frame_count % 10 == 0:
</span><span id="__span-6-284"><a id="__codelineno-6-284" name="__codelineno-6-284" href="#__codelineno-6-284"></a>                try:
</span><span id="__span-6-285"><a id="__codelineno-6-285" name="__codelineno-6-285" href="#__codelineno-6-285"></a>                    esp32.write(f&quot;{int(current_x)},{int(current_y)}\n&quot;.encode())
</span><span id="__span-6-286"><a id="__codelineno-6-286" name="__codelineno-6-286" href="#__codelineno-6-286"></a>                except:
</span><span id="__span-6-287"><a id="__codelineno-6-287" name="__codelineno-6-287" href="#__codelineno-6-287"></a>                    pass
</span><span id="__span-6-288"><a id="__codelineno-6-288" name="__codelineno-6-288" href="#__codelineno-6-288"></a>
</span><span id="__span-6-289"><a id="__codelineno-6-289" name="__codelineno-6-289" href="#__codelineno-6-289"></a>            if frame_count % 30 == 0:
</span><span id="__span-6-290"><a id="__codelineno-6-290" name="__codelineno-6-290" href="#__codelineno-6-290"></a>                print(f&quot;‚ö† Solo plataforma. Centrando: X={int(current_x)}¬∞ Y={int(current_y)}¬∞&quot;)
</span><span id="__span-6-291"><a id="__codelineno-6-291" name="__codelineno-6-291" href="#__codelineno-6-291"></a>    else:
</span><span id="__span-6-292"><a id="__codelineno-6-292" name="__codelineno-6-292" href="#__codelineno-6-292"></a>        cv2.putText(out_original, &quot;PLATAFORMA NO DETECTADA&quot;, (10,30),
</span><span id="__span-6-293"><a id="__codelineno-6-293" name="__codelineno-6-293" href="#__codelineno-6-293"></a>                    cv2.FONT_HERSHEY_SIMPLEX, 0.7, (0,0,255), 2)
</span><span id="__span-6-294"><a id="__codelineno-6-294" name="__codelineno-6-294" href="#__codelineno-6-294"></a>
</span><span id="__span-6-295"><a id="__codelineno-6-295" name="__codelineno-6-295" href="#__codelineno-6-295"></a>        integral_x = 0
</span><span id="__span-6-296"><a id="__codelineno-6-296" name="__codelineno-6-296" href="#__codelineno-6-296"></a>        integral_y = 0
</span><span id="__span-6-297"><a id="__codelineno-6-297" name="__codelineno-6-297" href="#__codelineno-6-297"></a>        prev_error_x = 0
</span><span id="__span-6-298"><a id="__codelineno-6-298" name="__codelineno-6-298" href="#__codelineno-6-298"></a>        prev_error_y = 0
</span><span id="__span-6-299"><a id="__codelineno-6-299" name="__codelineno-6-299" href="#__codelineno-6-299"></a>
</span><span id="__span-6-300"><a id="__codelineno-6-300" name="__codelineno-6-300" href="#__codelineno-6-300"></a>        current_x = current_x * (1 - smoothing*0.5) + center_angle * smoothing * 0.5
</span><span id="__span-6-301"><a id="__codelineno-6-301" name="__codelineno-6-301" href="#__codelineno-6-301"></a>        current_y = current_y * (1 - smoothing*0.5) + center_angle * smoothing * 0.5
</span><span id="__span-6-302"><a id="__codelineno-6-302" name="__codelineno-6-302" href="#__codelineno-6-302"></a>
</span><span id="__span-6-303"><a id="__codelineno-6-303" name="__codelineno-6-303" href="#__codelineno-6-303"></a>        if esp32 and frame_count % 10 == 0:
</span><span id="__span-6-304"><a id="__codelineno-6-304" name="__codelineno-6-304" href="#__codelineno-6-304"></a>            try:
</span><span id="__span-6-305"><a id="__codelineno-6-305" name="__codelineno-6-305" href="#__codelineno-6-305"></a>                esp32.write(f&quot;{int(current_x)},{int(current_y)}\n&quot;.encode())
</span><span id="__span-6-306"><a id="__codelineno-6-306" name="__codelineno-6-306" href="#__codelineno-6-306"></a>            except:
</span><span id="__span-6-307"><a id="__codelineno-6-307" name="__codelineno-6-307" href="#__codelineno-6-307"></a>                pass
</span><span id="__span-6-308"><a id="__codelineno-6-308" name="__codelineno-6-308" href="#__codelineno-6-308"></a>
</span><span id="__span-6-309"><a id="__codelineno-6-309" name="__codelineno-6-309" href="#__codelineno-6-309"></a>        if frame_count % 30 == 0:
</span><span id="__span-6-310"><a id="__codelineno-6-310" name="__codelineno-6-310" href="#__codelineno-6-310"></a>            print(f&quot;‚ö† Sin detecci√≥n. Centrando: X={int(current_x)}¬∞ Y={int(current_y)}¬∞&quot;)
</span><span id="__span-6-311"><a id="__codelineno-6-311" name="__codelineno-6-311" href="#__codelineno-6-311"></a>
</span><span id="__span-6-312"><a id="__codelineno-6-312" name="__codelineno-6-312" href="#__codelineno-6-312"></a>    cv2.circle(out_original, (centrox, centroy), DEAD_ZONE, (128,128,128), 1)
</span><span id="__span-6-313"><a id="__codelineno-6-313" name="__codelineno-6-313" href="#__codelineno-6-313"></a>    cv2.line(out_original, (centrox-15, centroy), (centrox+15, centroy), (128,128,128), 1)
</span><span id="__span-6-314"><a id="__codelineno-6-314" name="__codelineno-6-314" href="#__codelineno-6-314"></a>    cv2.line(out_original, (centrox, centroy-15), (centrox, centroy+15), (128,128,128), 1)
</span><span id="__span-6-315"><a id="__codelineno-6-315" name="__codelineno-6-315" href="#__codelineno-6-315"></a>
</span><span id="__span-6-316"><a id="__codelineno-6-316" name="__codelineno-6-316" href="#__codelineno-6-316"></a>    cv2.putText(out_original, f&quot;Plat:{int(area_max_plat)} Pel:{int(area_max_pelota)}&quot;, (10,height-40),
</span><span id="__span-6-317"><a id="__codelineno-6-317" name="__codelineno-6-317" href="#__codelineno-6-317"></a>                cv2.FONT_HERSHEY_SIMPLEX, 0.5, (200,200,200), 1)
</span><span id="__span-6-318"><a id="__codelineno-6-318" name="__codelineno-6-318" href="#__codelineno-6-318"></a>
</span><span id="__span-6-319"><a id="__codelineno-6-319" name="__codelineno-6-319" href="#__codelineno-6-319"></a>    cv2.putText(out_original, f&quot;PID: Kp={Kp:.2f} Ki={Ki:.3f} Kd={Kd:.2f}&quot;, (10,120),
</span><span id="__span-6-320"><a id="__codelineno-6-320" name="__codelineno-6-320" href="#__codelineno-6-320"></a>                cv2.FONT_HERSHEY_SIMPLEX, 0.5, (255,200,0), 2)
</span><span id="__span-6-321"><a id="__codelineno-6-321" name="__codelineno-6-321" href="#__codelineno-6-321"></a>
</span><span id="__span-6-322"><a id="__codelineno-6-322" name="__codelineno-6-322" href="#__codelineno-6-322"></a>    frame_count += 1
</span><span id="__span-6-323"><a id="__codelineno-6-323" name="__codelineno-6-323" href="#__codelineno-6-323"></a>    if time.time() - fps_time &gt; 1.0:
</span><span id="__span-6-324"><a id="__codelineno-6-324" name="__codelineno-6-324" href="#__codelineno-6-324"></a>        fps = frame_count
</span><span id="__span-6-325"><a id="__codelineno-6-325" name="__codelineno-6-325" href="#__codelineno-6-325"></a>        frame_count = 0
</span><span id="__span-6-326"><a id="__codelineno-6-326" name="__codelineno-6-326" href="#__codelineno-6-326"></a>        fps_time = time.time()
</span><span id="__span-6-327"><a id="__codelineno-6-327" name="__codelineno-6-327" href="#__codelineno-6-327"></a>
</span><span id="__span-6-328"><a id="__codelineno-6-328" name="__codelineno-6-328" href="#__codelineno-6-328"></a>    cv2.putText(out_original, f&quot;FPS: {fps}&quot;, (width-100, 30),
</span><span id="__span-6-329"><a id="__codelineno-6-329" name="__codelineno-6-329" href="#__codelineno-6-329"></a>                cv2.FONT_HERSHEY_SIMPLEX, 0.6, (0,255,0), 2)
</span><span id="__span-6-330"><a id="__codelineno-6-330" name="__codelineno-6-330" href="#__codelineno-6-330"></a>
</span><span id="__span-6-331"><a id="__codelineno-6-331" name="__codelineno-6-331" href="#__codelineno-6-331"></a>    cv2.imshow(&quot;Sistema de Balance - Original&quot;, out_original)
</span><span id="__span-6-332"><a id="__codelineno-6-332" name="__codelineno-6-332" href="#__codelineno-6-332"></a>    cv2.imshow(&quot;Deteccion: Plataforma(Verde) + Pelota(Morado)&quot;, out_deteccion)
</span><span id="__span-6-333"><a id="__codelineno-6-333" name="__codelineno-6-333" href="#__codelineno-6-333"></a>
</span><span id="__span-6-334"><a id="__codelineno-6-334" name="__codelineno-6-334" href="#__codelineno-6-334"></a>    key = cv2.waitKey(1) &amp; 0xFF
</span><span id="__span-6-335"><a id="__codelineno-6-335" name="__codelineno-6-335" href="#__codelineno-6-335"></a>    if key == ord(&#39;q&#39;):
</span><span id="__span-6-336"><a id="__codelineno-6-336" name="__codelineno-6-336" href="#__codelineno-6-336"></a>        break
</span><span id="__span-6-337"><a id="__codelineno-6-337" name="__codelineno-6-337" href="#__codelineno-6-337"></a>    elif key == ord(&#39;c&#39;):
</span><span id="__span-6-338"><a id="__codelineno-6-338" name="__codelineno-6-338" href="#__codelineno-6-338"></a>        integral_x = 0
</span><span id="__span-6-339"><a id="__codelineno-6-339" name="__codelineno-6-339" href="#__codelineno-6-339"></a>        integral_y = 0
</span><span id="__span-6-340"><a id="__codelineno-6-340" name="__codelineno-6-340" href="#__codelineno-6-340"></a>        print(&quot;Integrales reseteadas&quot;)
</span><span id="__span-6-341"><a id="__codelineno-6-341" name="__codelineno-6-341" href="#__codelineno-6-341"></a>
</span><span id="__span-6-342"><a id="__codelineno-6-342" name="__codelineno-6-342" href="#__codelineno-6-342"></a>print(&quot;\nCerrando sistema...&quot;)
</span><span id="__span-6-343"><a id="__codelineno-6-343" name="__codelineno-6-343" href="#__codelineno-6-343"></a>cap.release()
</span><span id="__span-6-344"><a id="__codelineno-6-344" name="__codelineno-6-344" href="#__codelineno-6-344"></a>if esp32:
</span><span id="__span-6-345"><a id="__codelineno-6-345" name="__codelineno-6-345" href="#__codelineno-6-345"></a>    esp32.write(f&quot;{center_angle},{center_angle}\n&quot;.encode())
</span><span id="__span-6-346"><a id="__codelineno-6-346" name="__codelineno-6-346" href="#__codelineno-6-346"></a>    time.sleep(0.1)
</span><span id="__span-6-347"><a id="__codelineno-6-347" name="__codelineno-6-347" href="#__codelineno-6-347"></a>    esp32.close()
</span><span id="__span-6-348"><a id="__codelineno-6-348" name="__codelineno-6-348" href="#__codelineno-6-348"></a>    print(&quot;Conexi√≥n serial cerrada&quot;)
</span><span id="__span-6-349"><a id="__codelineno-6-349" name="__codelineno-6-349" href="#__codelineno-6-349"></a>cv2.destroyAllWindows()
</span><span id="__span-6-350"><a id="__codelineno-6-350" name="__codelineno-6-350" href="#__codelineno-6-350"></a>print(&quot;Sistema finalizado&quot;)
</span></code></pre></div></p>
<h3 id="codigo-de-esp-para-la-plataforma-con-servo">Codigo de Esp para la plataforma con servo</h3>
<p>```</p>
<h1 id="include">include <ESP32Servo.h></h1>
<h1 id="include_1">include <BluetoothSerial.h></h1>
<p>String device_name = "ESP32-BT-Slave";
BluetoothSerial SerialBT;</p>
<p>const int PIN_SERVO_X = 18;
const int PIN_SERVO_Y = 19;</p>
<p>Servo servoX;
Servo servoY;</p>
<p>const int PWM_MIN = 500;
const int PWM_MAX = 2400;</p>
<p>const int CENTRO = 90;</p>
<p>String inputString = "";
bool stringComplete = false;</p>
<p>int posicionX = CENTRO;
int posicionY = CENTRO;
unsigned long ultimoComando = 0;
const unsigned long TIMEOUT = 2000;</p>
<p>unsigned long contadorComandos = 0;
unsigned long ultimoDebug = 0;
const unsigned long INTERVALO_DEBUG = 1000; // Mostrar info cada 1 segundo</p>
<p>void setup() {
  Serial.begin(115200);
  SerialBT.begin(device_name);</p>
<p>delay(1000);</p>
<p>inputString.reserve(20);
  ESP32PWM::allocateTimer(0);
  ESP32PWM::allocateTimer(1);
  ESP32PWM::allocateTimer(2);
  ESP32PWM::allocateTimer(3);</p>
<p>servoX.attach(PIN_SERVO_X, PWM_MIN, PWM_MAX);
  servoY.attach(PIN_SERVO_Y, PWM_MIN, PWM_MAX);</p>
<p>servoX.write(CENTRO);
  servoY.write(CENTRO);</p>
<p>delay(1000);</p>
<p>Serial.println("\n========================================");
  Serial.println("ESP32 - Sistema de Balance BLUETOOTH");
  Serial.println("========================================");
  Serial.print("Nombre Bluetooth: ");
  Serial.println(device_name);
  Serial.print("Servo X en GPIO ");
  Serial.println(PIN_SERVO_X);
  Serial.print("Servo Y en GPIO ");
  Serial.println(PIN_SERVO_Y);
  Serial.print("Posicion inicial: ");
  Serial.print(CENTRO);
  Serial.println(" grados");
  Serial.println("========================================");
  Serial.println("Esperando conexion Bluetooth...");
  Serial.println("========================================\n");</p>
<p>SerialBT.println("ESP32 Balance System Ready");
  SerialBT.println("Waiting for commands...");</p>
<p>ultimoComando = millis();
  ultimoDebug = millis();
 }</p>
<p>void loop() {
  while (SerialBT.available()) {
    char inChar = (char)SerialBT.read();</p>
<div class="language-text highlight"><pre><span></span><code>if (inChar == &#39;\n&#39; || inChar == &#39;\r&#39;) {
  if (inputString.length() &gt; 0) {
    stringComplete = true;
  }
} else {
  inputString += inChar;
}
</code></pre></div>
<p>}</p>
<p>if (stringComplete) {
    procesarComando();
    inputString = "";
    stringComplete = false;
    ultimoComando = millis();
  }</p>
<p>if (millis() - ultimoDebug &gt; INTERVALO_DEBUG) {
    mostrarEstado();
    ultimoDebug = millis();
  }</p>
<p>if (millis() - ultimoComando &gt; TIMEOUT) {
    volverAlCentro();
  }
 }</p>
<p>void procesarComando() {
  contadorComandos++;</p>
<p>Serial.print("[BT-CMD #");
  Serial.print(contadorComandos);
  Serial.print("] '");
  Serial.print(inputString);
  Serial.print("' -&gt; ");</p>
<p>int comaIndex = inputString.indexOf(',');</p>
<p>if (comaIndex &gt; 0) {
    String valorXStr = inputString.substring(0, comaIndex);
    String valorYStr = inputString.substring(comaIndex + 1);</p>
<div class="language-text highlight"><pre><span></span><code>int xRecibido = valorXStr.toInt();
int yRecibido = valorYStr.toInt();

Serial.print(&quot;X=&quot;);
Serial.print(xRecibido);
Serial.print(&quot; Y=&quot;);
Serial.print(yRecibido);

xRecibido = constrain(xRecibido, 0, 180);
yRecibido = constrain(yRecibido, 0, 180);

if (xRecibido != posicionX || yRecibido != posicionY) {
  Serial.print(&quot; | Moviendo: X(&quot;);
  Serial.print(posicionX);
  Serial.print(&quot;‚Üí&quot;);
  Serial.print(xRecibido);
  Serial.print(&quot;¬∞) Y(&quot;);
  Serial.print(posicionY);
  Serial.print(&quot;‚Üí&quot;);
  Serial.print(yRecibido);
  Serial.println(&quot;¬∞)&quot;);
} else {
  Serial.println(&quot; | Sin cambio&quot;);
}
posicionX = xRecibido;
posicionY = yRecibido;

servoX.write(posicionX);
servoY.write(posicionY);

SerialBT.print(&quot;Recibido: &quot;);
SerialBT.print(posicionX);
SerialBT.print(&quot;,&quot;);
SerialBT.println(posicionY);
</code></pre></div>
<p>} else {
    Serial.println("ERROR - Formato invalido");
    SerialBT.println("Error: Formato invalido. Use X,Y");
  }
  }
  void mostrarEstado() {
  if (SerialBT.hasClient()) {
    Serial.print("[ESTADO] BT conectado | X=");
  } else {
    Serial.print("[ESTADO] BT desconectado | X=");
  }
  Serial.print(posicionX);
  Serial.print("¬∞ Y=");
  Serial.print(posicionY);
  Serial.print("¬∞ | Cmds: ");
  Serial.print(contadorComandos);
  Serial.print(" | Sin datos: ");
  Serial.print((millis() - ultimoComando) / 1000);
  Serial.println("s");
 }</p>
<p>void volverAlCentro() {
  static bool mensajeMostrado = false;
  static unsigned long ultimoCentrado = 0;</p>
<p>if (millis() - ultimoCentrado &lt; 500) {
    return;
  }
  ultimoCentrado = millis();</p>
<p>if (posicionX != CENTRO || posicionY != CENTRO) {
    if (!mensajeMostrado) {
      Serial.println("\n[TIMEOUT] Volviendo al centro...");
      SerialBT.println("Timeout: Centering...");
      mensajeMostrado = true;
    }</p>
<div class="language-text highlight"><pre><span></span><code>if (posicionX &lt; CENTRO) posicionX += 2;
if (posicionX &gt; CENTRO) posicionX -= 2;
if (posicionY &lt; CENTRO) posicionY += 2;
if (posicionY &gt; CENTRO) posicionY -= 2;
if (abs(posicionX - CENTRO) == 1) posicionX = CENTRO;
if (abs(posicionY - CENTRO) == 1) posicionY = CENTRO;

servoX.write(posicionX);
servoY.write(posicionY);

Serial.print(&quot;  Centrando: X=&quot;);
Serial.print(posicionX);
Serial.print(&quot;¬∞ Y=&quot;);
Serial.print(posicionY);
Serial.println(&quot;¬∞&quot;);
</code></pre></div>
<p>} else {
    if (mensajeMostrado) {
      Serial.println("[CENTRADO] Completo\n");
      mensajeMostrado = false;
      ultimoComando = millis();
    }
  }
}
 ```
<img src="../recursos/imgs/Fotoplataformaequilibrio1.jpg" alt="Diagrama del sistema" width="420"></p>
<p><img src="../recursos/imgs/Fotoplataformaequilibrio2.jpg" alt="Diagrama del sistema" width="420"></p>
<p><img src="../recursos/imgs/Fotoplataformaequilibrio3.jpg" alt="Diagrama del sistema" width="420"></p>
<p><a href="https://github.com/user-attachments/assets/677ff465-29e3-4095-beb5-ffe398fe7f29">Plataforma fallida</a></p>
<p><a href="https://github.com/user-attachments/assets/d8e7728f-5c72-405f-a45d-fa38da1a32a5">Plataforma efectiva</a></p>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["content.code.copy", "content.tooltips"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>